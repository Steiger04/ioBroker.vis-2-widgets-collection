"use strict";(self.webpackChunkiobroker_vis_widgets_react_collection=self.webpackChunkiobroker_vis_widgets_react_collection||[]).push([["src_ButtonGroupCollectionWidget_ButtonGroupCollectionWidget_jsx"],{9379:(t,o,a)=>{a.r(o),a.d(o,{default:()=>y});var e=a(8437),n=a(6211),i=a(7613),l=a(9966),r=a(900),d=a(7051),c=a(7085),u=a(8565),s=a(4657),p=a(6016),b=a(2152),g=a(6255),h=a(5001),v=a(5702),x=a(579);const C=function(){var t;const{values:o,setState:a,setValue:n,oidObject:i,widget:l}=(0,e.useContext)(p.C),{data:r,states:C,activeIndex:f}=(0,b.A)("oid"),{fontStyles:y,textStyles:m}=(0,v.A)(l.style),A=(0,h.A)("oid"),G=l.data.buttonGroupVariant,S=l.data.buttonGroupOrientation,w=null===i||void 0===i?void 0:i._id,k=null===i||void 0===i||null===(t=i.common)||void 0===t?void 0:t.type,_=l.data.sampleInterval?l.data.sampleIntervalValue:l.data.delay,{debouncedValue:z,sampledValue:V}=(0,g.A)(A,_);return(0,e.useEffect)((()=>{l.data.sampleInterval||void 0===z||n(w,z)}),[z,w,n,l.data.sampleInterval]),(0,e.useEffect)((()=>{l.data.sampleInterval&&void 0!==V&&n(w,V)}),[V,w,n,l.data.sampleInterval]),(0,x.jsxs)(s.A,{data:r,oidValue:A,bgActive:!1,children:[(r.iconActive||r.icon)&&(0,x.jsx)("img",{alt:"",src:r.iconActive||r.icon,style:{position:"absolute",top:"calc(0px + ".concat(l.data.iconYOffset,")"),right:"calc(0px + ".concat(l.data.iconXOffset,")"),width:r.iconSize,height:r.iconSize,color:r.iconColorActive||r.iconColor,filter:r.iconColor?"drop-shadow(0px 10000px 0)":null,transform:r.iconColor?"translateY(-10000px)":null}}),(0,x.jsx)(c.Box,{sx:{width:"100%",height:"100%",display:"flex"},children:(0,x.jsx)(c.ToggleButtonGroup,{exclusive:!0,value:A,disabled:"number"!==k&&"string"!==k&&"boolean"!==k,fullWidth:!0,variant:G,orientation:S,sx:{display:"flex",flexDirection:"vertical"===S?"column":"row",justifyContent:"space-between",alignItems:"center","&.MuiToggleButtonGroup-root":{},"& .MuiToggleButtonGroup-firstButton":{borderTopWidth:"outlined"===l.data.buttonGroupVariant?null:0,borderLeftWidth:"outlined"===l.data.buttonGroupVariant?null:0,borderRightWidth:"outlined"===l.data.buttonGroupVariant||"horizontal"===l.data.buttonGroupOrientation?null:0,borderBottomWidth:"outlined"===l.data.buttonGroupVariant?null:"horizontal"===l.data.buttonGroupOrientation?0:null,borderColor:l.data.buttonGroupColor&&(0,u.alpha)(l.data.buttonGroupColor,.2),borderRadius:!l.data.basePadding&&0},"& .MuiToggleButtonGroup-middleButton":{borderTopWidth:"outlined"===l.data.buttonGroupVariant?null:"horizontal"===l.data.buttonGroupOrientation?0:null,borderLeftWidth:"outlined"===l.data.buttonGroupVariant||"horizontal"===l.data.buttonGroupOrientation?null:0,borderRightWidth:"outlined"===l.data.buttonGroupVariant||"horizontal"===l.data.buttonGroupOrientation?null:0,borderBottomWidth:"outlined"===l.data.buttonGroupVariant?null:"horizontal"===l.data.buttonGroupOrientation?0:null,borderColor:l.data.buttonGroupColor&&(0,u.alpha)(l.data.buttonGroupColor,.2)},"& .MuiToggleButtonGroup-lastButton":{borderTopWidth:"outlined"===l.data.buttonGroupVariant?null:"horizontal"===l.data.buttonGroupOrientation?0:null,borderLeftWidth:"outlined"===l.data.buttonGroupVariant?null:0,borderRightWidth:"outlined"===l.data.buttonGroupVariant?null:0,borderBottomWidth:"outlined"===l.data.buttonGroupVariant?null:0,borderColor:l.data.buttonGroupColor&&(0,u.alpha)(l.data.buttonGroupColor,.2),borderRadius:!l.data.basePadding&&0}},children:C.map(((t,e)=>{let{value:n,label:i}=t;return(0,x.jsx)(c.ToggleButton,{disableRipple:!0,value:n,sx:{width:"100%",height:"100%",p:0,display:"flex",justifyContent:"center",alignItems:"center",background:f===e+1&&l.data.backgroundColorActive||l.data["backgroundColor".concat(e+1)]||r.backgroundColor||f===e+1&&l.data.backgroundActive||l.data["background".concat(e+1)]||r.background,"&.MuiToggleButton-root.Mui-selected":{background:f===e+1&&l.data.backgroundColorActive||l.data["backgroundColor".concat(e+1)]||r.backgroundColor||f===e+1&&l.data.backgroundActive||l.data["background".concat(e+1)]||r.background},"&:hover":{filter:f===e+1&&l.data.iconHoverActive&&"brightness(".concat(l.data.iconHoverActive,"%)")||l.data["iconHover".concat(e+1)]&&"brightness(".concat(l.data["iconHover".concat(e+1)],"%)")||r.iconHover&&"brightness(".concat(r.iconHover||"100%",")"),background:f===e+1&&l.data.backgroundColorActive||l.data["backgroundColor".concat(e+1)]||r.backgroundColor||f===e+1&&l.data.backgroundActive||l.data["background".concat(e+1)]||r.background}},onClick:()=>{a({values:(0,d.A)((0,d.A)({},o),{},{["".concat(w,".val")]:n})})},children:(0,x.jsxs)(c.Box,{sx:{width:"100%",height:"100%",p:.5,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[!l.data.onlyText&&(f===e+1&&(l.data.iconActive||l.data.iconSmallActive)||l.data["icon".concat(e+1)]||l.data["iconSmall".concat(e+1)]||r.icon)&&(0,x.jsx)(c.Box,{sx:{overflow:"hidden",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,x.jsx)("img",{src:f===e+1&&(l.data.iconActive||l.data.iconSmallActive)||l.data["icon".concat(e+1)]||l.data["iconSmall".concat(e+1)]||r.icon,alt:"",style:{position:"relative",bottom:l.data["iconYOffset".concat(e+1)],left:l.data["iconXOffset".concat(e+1)],width:f===e+1&&l.data.iconSizeActive&&"calc(100% * ".concat(l.data.iconSizeActive||100," / 100)")||l.data["iconSize".concat(e+1)]&&"calc(100% * ".concat(l.data["iconSize".concat(e+1)]||100," / 100)")||"100%",height:f===e+1&&l.data.iconSizeActive&&"calc(100% * ".concat(l.data.iconSizeActive||100," / 100)")||l.data["iconSize".concat(e+1)]&&"calc(100% * ".concat(l.data["iconSize".concat(e+1)]||100," / 100)")||"100%",color:f===e+1&&l.data.iconColorActive||l.data["iconColor".concat(e+1)]||l.data.buttonGroupColor||r.iconColor,filter:f===e+1&&l.data.iconColorActive||l.data["iconColor".concat(e+1)]||l.data.buttonGroupColor||r.iconColor?"drop-shadow(0px 10000px 0)":null,transform:f===e+1&&l.data.iconColorActive||l.data["iconColor".concat(e+1)]||l.data.buttonGroupColor||r.iconColor?"translateY(-10000px)":null}})}),!l.data.onlyIcon&&(0,x.jsx)(c.Box,{sx:{width:"100%",pt:.5,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,x.jsx)(c.Typography,{noWrap:!0,variant:"body2",sx:(0,d.A)((0,d.A)((0,d.A)({},y),m),{},{textTransform:"none",fontSize:f===e+1&&l.data.valueSizeActive&&"".concat(l.data.valueSizeActive,"%")||l.data["valueSize".concat(e+1)]&&"".concat(l.data["valueSize".concat(e+1)],"%")||r.valueSize,color:f===e+1&&l.data.textColorActive||l.data["textColor".concat(e+1)]||l.data.buttonGroupColor||r.textColor}),children:f===e+1&&l.data.aliasActive||i||n})})]})},e)}))})})]})};class f extends n.A{static getWidgetInfo(){return{id:"tplButtonGroupCollectionWidget",visSet:"vis-2-widgets-collection",visSetLabel:"widgets_collection",visName:"ButtonGroupCollectionWidget",visWidgetLabel:"button_group_collection_widget",visAttrs:[(0,l.A)(),{name:"buttonGroup",label:"button_group",fields:[{name:"onlyIcon",type:"checkbox",label:"only_icon",hidden:"data.onlyText"},{name:"onlyText",type:"checkbox",label:"only_text",hidden:"data.onlyIcon"},{name:"buttonGroupVariant",label:"button_group_variant",type:"select",options:[{value:"text",label:"button_group_text"},{value:"outlined",label:"button_group_outlined"}],default:"text"},{name:"buttonGroupOrientation",label:"button_group_orientation",type:"select",options:[{value:"horizontal",label:"horizontal"},{value:"vertical",label:"vertical"}],default:"horizontal"},{name:"buttonGroupColor",label:"button_group_color",type:"color"}]},(0,i.A)("active"),(0,i.A)("values")],visDefaultStyle:{width:"100%",height:"100px",position:"relative"},visPrev:"widgets/vis-2-widgets-collection/img/prev-collection-button-group.png"}}getWidgetInfo(){return f.getWidgetInfo()}async propertiesUpdate(){const t=JSON.stringify(this.state.rxData);this.lastRxData!==t&&(this.lastRxData=t,await this.createStateObjectAsync("oid"))}async onRxDataChanged(t){await this.propertiesUpdate()}onRxStyleChanged(){}onStateUpdated(t,o){}async componentDidMount(){super.componentDidMount(),await this.propertiesUpdate()}renderWidgetBody(t){super.renderWidgetBody(t);const o={id:t.id,refService:t.refService,style:t.style,widget:t.widget,setValue:this.setValue,setState:this.setState.bind(this),oidObject:this.state.oidObject,values:this.state.values,isSignalVisible:this.isSignalVisible.bind(this),getPropertyValue:this.getPropertyValue.bind(this),mode:this.props.context.themeType,socket:this.props.context.socket,theme:this.props.context.theme,wrappedContent:this.wrappedContent};return t.widget.data.noCard||t.widget.usedInWidget?this.wrappedContent=!1:this.wrappedContent=!0,(0,r.A)(this.wrapContent((0,x.jsx)(C,{})),o)}}const y=f}}]);
//# sourceMappingURL=src_ButtonGroupCollectionWidget_ButtonGroupCollectionWidget_jsx.4be37331.chunk.js.map