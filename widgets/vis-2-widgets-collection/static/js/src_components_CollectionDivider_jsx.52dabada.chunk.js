"use strict";(self.webpackChunkiobroker_vis_widgets_react_collection=self.webpackChunkiobroker_vis_widgets_react_collection||[]).push([["src_components_CollectionDivider_jsx"],{6211:(e,a,t)=>{t.d(a,{A:()=>l});var o=t(7085),n=(t(8437),t(579));class i extends window.visRxWidget{constructor(){var e;super(...arguments),e=this,this.getPropertyValue=e=>this.state.values["".concat(this.state.rxData[e],".val")],this.setValue=function(a,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a&&e.props.context.socket.setState(a,t,o).catch((e=>console.error("Cannot set state ".concat(a,": ").concat(e))))}}static getI18nPrefix(){return"vis_2_widgets_collection_"}async getParentObject(e){const a=e.split(".");a.pop();const t=a.join(".");return this.props.context.socket.getObject(t)}static getObjectIcon(e,a,t){t=t||"../..";let o="";const n=e&&e.common;if(n){const i=n.icon;if(i)if(i.startsWith("data:image/"))o=i;else{if(!i.includes("."))return null;{let l;"instance"===e.type||"adapter"===e.type?o="".concat(t,"/adapter/").concat(n.name,"/").concat(i):a&&a.startsWith("system.adapter.")?(l=a.split(".",3),"/"===i[0]?l[2]+=i:l[2]+="/".concat(i),o="".concat(t,"/adapter/").concat(l[2])):(l=a.split(".",2),"/"===i[0]?l[0]+=i:l[0]+="/".concat(i),o="".concat(t,"/adapter/").concat(l[0]))}}}return o||null}async createStateObjectAsync(e){if(!this.state.rxData[e]||"nothing_selected"===this.state.rxData[e])return this.setState({["".concat(e,"Object")]:{common:{}}}),void(this.state.rxData.icon&&this.setState({["".concat(e,"Object")]:{common:{icon:this.state.rxData.icon}}}));let a=await this.props.context.socket.getObject(this.state.rxData.oid);if(a=a?{common:a.common,_id:a._id,type:a.type}:{common:{}},a.common=a.common||{},"number"===a.common.type&&(void 0===a.common.max&&(a.common.max=100),void 0===a.common.min&&(a.common.min=0)),a.common.states&&Array.isArray(a.common.states)){const e={};a.common.states.forEach((a=>{e[a]=a})),a.common.states=e}a.common.name&&"object"===typeof a.common.name&&(a.common.name=a.common.name[i.getLanguage()]||a.common.name.en),JSON.stringify(this.state["".concat(e,"Object")])!==JSON.stringify(a)&&this.setState({["".concat(e,"Object")]:a})}wrapContent(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.CssBaseline,{}),(0,n.jsx)(o.Box,{className:"GENERIC-0",sx:{position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,n.jsx)(o.Box,{className:"GENERIC-1",sx:{width:this.wrappedContent?"calc(100% - 8px)":"100%",height:this.wrappedContent?"calc(100% - 8px)":"100%"},children:e})})]})}}const l=i},8998:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var o=t(8437),n=t(6211),i=t(4376),l=t(7613),c=t(9966),r=t(900),d=t(7051),s=t(7085),u=t(4657),m=t(6016),p=t(2152),x=t(6255),v=t(5001),b=t(579);const h=function(){var e;const{values:a,setState:t,setValue:n,oidObject:i,widget:l}=(0,o.useContext)(m.C),{data:c,states:r,minValue:h,maxValue:f,activeIndex:y}=(0,p.A)("oid"),g=(0,v.A)("oid"),S=null===i||void 0===i?void 0:i._id,k=null===i||void 0===i||null===(e=i.common)||void 0===e?void 0:e.type,C=l.data.sampleInterval?l.data.sampleIntervalValue:l.data.delay,{debouncedValue:A,sampledValue:_}=(0,x.A)(g,C),z=l.data.startIconColor||l.data.sliderColor||c.iconColor,j=l.data.endIconColor||l.data.sliderColor||c.iconColor;(0,o.useEffect)((()=>{l.data.sampleInterval||void 0===A||n(S,A)}),[A,S,n,l.data.sampleInterval]),(0,o.useEffect)((()=>{l.data.sampleInterval&&void 0!==_&&n(S,_)}),[_,S,n,l.data.sampleInterval]);const w=(0,o.useMemo)((()=>l.data.onlyStates||void 0===l.data.minValue?h:Number(l.data.minValue)),[l.data.onlyStates,l.data.minValue,h]),O=(0,o.useMemo)((()=>l.data.onlyStates||void 0===l.data.maxValue?f:Number(l.data.maxValue)),[l.data.onlyStates,l.data.maxValue,f]),I=(0,o.useMemo)((()=>{const e=JSON.parse(JSON.stringify(r));if(l.data.onlyStates)return e;const a=w,t=O;e&&!e.some((e=>e.value===a))&&e.push({value:a,label:"".concat(a).concat(l.data.unit)}),e&&!e.some((e=>e.value===t))&&e.push({value:t,label:"".concat(t).concat(l.data.unit)});const o=Number(l.data.markStep)||1;for(let n=a+o;n<t;n+=o)e.some((e=>e.value===n))||e.push({value:n,label:"".concat(n).concat(l.data.unit)});return e.sort(((e,a)=>e.value-a.value)),e}),[r,w,O,l.data.markStep,l.data.unit,l.data.onlyStates]);return(0,b.jsx)(u.A,{data:c,oidValue:g,children:(0,b.jsxs)(s.Box,{sx:{width:"100%",height:"100%",p:1,display:"flex",flexDirection:"horizontal"===l.data.sliderOrientation?"row":"column",justifyContent:"space-between",alignItems:"center"},children:[(c.iconActive||c.icon)&&(0,b.jsx)("img",{alt:"",src:c.iconActive||c.icon,style:{position:"absolute",top:"calc(0px + ".concat(c.iconYOffset,")"),right:"calc(0px + ".concat(c.iconXOffset,")"),width:c.iconSizeActive||c.iconSize,height:c.iconSizeActive||c.iconSize,color:c.iconColorActive||c.iconColor,filter:c.iconColorActive||c.iconColor?"drop-shadow(0px 10000px 0)":null,transform:c.iconColorActive||c.iconColor?"translateY(-10000px)":null}}),(0,b.jsx)(s.Box,{sx:{position:"relative",bottom:"horizontal"===l.data.sliderOrientation&&(l.data.onlyStates||l.data.marks)?"10px":"0px",right:"vertical"===l.data.sliderOrientation&&(l.data.onlyStates||l.data.marks)?"22px":"0px",p:1,display:"flex",justifyContent:"center",alignItems:"center"},children:("horizontal"===l.data.sliderOrientation&&(l.data.iconMin||l.data.iconSmallMin)||"vertical"===l.data.sliderOrientation&&(l.data.iconMax||l.data.iconSmallMax))&&(0,b.jsx)("img",{alt:"",src:"horizontal"===l.data.sliderOrientation?l.data.iconMin||l.data.iconSmallMin:l.data.iconMax||l.data.iconSmallMax,style:{width:"horizontal"===l.data.sliderOrientation?l.data.iconSizeStart||"24px":l.data.iconSizeEnd||"24px",height:"horizontal"===l.data.sliderOrientation?l.data.iconSizeStart||"24px":l.data.iconSizeEnd||"24px",color:"horizontal"===l.data.sliderOrientation?z:j,filter:"drop-shadow(0px 10000px 0)",transform:"translateY(-10000px)"}})}),(0,b.jsx)(s.Box,{sx:{p:1,display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center"},children:(0,b.jsx)(s.Slider,{disabled:"number"!==k,valueLabelDisplay:l.data.valueLabelDisplay,orientation:l.data.sliderOrientation,sx:{"& .MuiSlider-thumb":{color:l.data.sliderColor},"& .MuiSlider-rail":{color:l.data.sliderColor||"primary.main"},"& .MuiSlider-track":{color:l.data.sliderColor||"primary.main"},"& .MuiSlider-mark":{color:l.data.sliderColor||"primary.main"},"& .MuiSlider-markActive":{bgcolor:l.data.sliderColor||"primary.main",filter:"brightness(2.5)"},"& .MuiSlider-valueLabel":{fontSize:c.valueSizeActive||l.data.markerTextSize&&"".concat(l.data.markerTextSize,"%")||c.valueSize||"1em",color:c.textColorActive||l.data.markerTextColor||c.textColor,bgcolor:"transparent",top:"horizontal"===l.data.sliderOrientation?l.data.labelPosition:null,right:"vertical"===l.data.sliderOrientation?l.data.labelPosition:null},"& .MuiSlider-markLabel":{fontSize:l.data.markerTextSize&&"".concat(l.data.markerTextSize,"%")||c.valueSize||"1em",color:l.data.markerTextColor||c.textColor,top:"horizontal"===l.data.sliderOrientation?l.data.markPosition:null,left:"vertical"===l.data.sliderOrientation?l.data.markPosition:null},"& .MuiSlider-markLabelActive":{["&[data-index='".concat(y-1,"']")]:{fontSize:c.valueSizeActive,color:c.textColorActive||l.data.markerTextColor||c.textColor}}},min:w,max:O,marks:l.data.onlyStates||l.data.marks&&I&&I.length?I:l.data.marks,step:!l.data.onlyStates&&l.data.step?Number(l.data.step):l.data.onlyStates&&I&&I.length?null:l.data.step?Number(l.data.step):1,size:l.data.sliderSize,value:g||0,onChange:(e,o)=>t({values:(0,d.A)((0,d.A)({},a),{},{["".concat(S,".val")]:o})})})}),(0,b.jsx)(s.Box,{sx:{position:"relative",bottom:"horizontal"===l.data.sliderOrientation&&(l.data.onlyStates||l.data.marks)?"10px":"0px",right:"vertical"===l.data.sliderOrientation&&(l.data.onlyStates||l.data.marks)?"22px":"0px",p:1,display:"flex",justifyContent:"center",alignItems:"center"},children:("horizontal"===l.data.sliderOrientation&&(l.data.iconMax||l.data.iconSmallMax)||"vertical"===l.data.sliderOrientation&&(l.data.iconMin||l.data.iconSmallMin))&&(0,b.jsx)("img",{alt:"",src:"horizontal"===l.data.sliderOrientation?l.data.iconMax||l.data.iconSmallMax:l.data.iconMin||l.data.iconSmallMin,style:{width:"horizontal"===l.data.sliderOrientation?l.data.iconSizeEnd||"24px":l.data.iconSizeStart||"24px",height:"horizontal"===l.data.sliderOrientation?l.data.iconSizeEnd||"24px":l.data.iconSizeStart||"24px",color:"horizontal"===l.data.sliderOrientation?j:z,filter:"drop-shadow(0px 10000px 0)",transform:"translateY(-10000px)"}})})]})})};class f extends n.A{static getWidgetInfo(){return{id:"tplSliderCollectionWidget",visSet:"vis-2-widgets-collection",visSetLabel:"widgets_collection",visName:"SliderCollectionWidget",visWidgetLabel:"slider_collection_widget",visAttrs:[(0,c.A)(),{name:"slider",label:"group_slider",fields:[{name:"sliderSize",label:"slider_size",type:"select",options:[{value:"small",label:"slider_small"},{value:"medium",label:"slider_medium"}],default:"medium"},{name:"sliderOrientation",label:"slider_orientation",type:"select",options:[{value:"horizontal",label:"horizontal"},{value:"vertical",label:"vertical"}],default:"horizontal"},{name:"valueLabelDisplay",label:"value_label_display",type:"select",options:[{value:"on",label:"label_on"},{value:"off",label:"label_off"},{value:"auto",label:"label_auto"}],default:"off"},{name:"labelPosition",label:"label_position",type:"text",default:"-5px",hidden:"data.valueLabelDisplay === 'off'"},{name:"sliderColor",label:"slider_color",type:"color"},{type:"custom",component:()=>(0,b.jsx)(i.A,{dividerText:"values"})},{name:"minValue",type:"number",label:"min_value",default:0},{name:"maxValue",type:"number",label:"max_value",default:100},{name:"step",type:"number",label:"step",default:10},{type:"custom",component:()=>(0,b.jsx)(i.A,{}),hidden:"!data.values_count"},{name:"onlyStates",type:"checkbox",label:"only_states",default:!1,hidden:"!data.values_count"},{type:"custom",component:()=>(0,b.jsx)(i.A,{dividerText:"marks"})},{name:"marks",type:"checkbox",label:"marks",default:!1},{type:"custom",component:()=>(0,b.jsx)(i.A,{}),hidden:"!data.marks"},{name:"markPosition",label:"mark_position",type:"text",default:"30px",hidden:"!data.marks"},{name:"markStep",type:"number",label:"mark_step",default:10,hidden:"!data.marks"},{type:"custom",component:()=>(0,b.jsx)(i.A,{}),hidden:"!data.marks"},{name:"markerTextColor",label:"text_color",type:"color",hidden:"!data.marks"},{name:"markerTextSize",label:"marker_text_size",type:"slider",min:0,max:500,default:80,step:1,hidden:"!data.marks"},{type:"custom",component:()=>(0,b.jsx)(i.A,{dividerText:"icon"})},{name:"iconSmallMin",label:"icon_small_min",type:"icon64",hidden:"data.iconMin"},{name:"iconMin",label:"icon_min",type:"image",hidden:"data.iconSmallMin"},{name:"iconSizeStart",label:"icon_size",type:"text",default:"24px",hidden:"!data.iconMin && !data.iconSmallMin"},{name:"startIconColor",label:"icon_color",type:"color",hidden:"!data.iconMin && !data.iconSmallMin"},{type:"custom",component:()=>(0,b.jsx)(i.A,{dividerText:"icon"})},{name:"iconSmallMax",label:"icon_small_max",type:"icon64",hidden:"data.iconMax"},{name:"iconMax",label:"icon_max",type:"image",hidden:"data.iconSmallMax"},{name:"iconSizeEnd",label:"icon_size",type:"text",default:"24px",hidden:"!data.iconMax && !data.iconSmallMax"},{name:"endIconColor",label:"icon_color",type:"color",hidden:"!data.iconMax && !data.iconSmallMax"}]},(0,l.A)("values")],visDefaultStyle:{width:"100%",height:"100px",position:"relative"},visPrev:"widgets/vis-2-widgets-collection/img/prev-collection-slider.png"}}getWidgetInfo(){return f.getWidgetInfo()}async propertiesUpdate(){const e=JSON.stringify(this.state.rxData);this.lastRxData!==e&&(this.lastRxData=e,await this.createStateObjectAsync("oid"))}async onRxDataChanged(e){await this.propertiesUpdate()}onRxStyleChanged(){}onStateUpdated(e,a){}async componentDidMount(){super.componentDidMount(),await this.propertiesUpdate()}renderWidgetBody(e){super.renderWidgetBody(e);const a={id:e.id,refService:e.refService,style:e.style,widget:e.widget,setValue:this.setValue,setState:this.setState.bind(this),oidObject:this.state.oidObject,values:this.state.values,isSignalVisible:this.isSignalVisible.bind(this),getPropertyValue:this.getPropertyValue.bind(this),mode:this.props.context.themeType,socket:this.props.context.socket,theme:this.props.context.theme,wrappedContent:this.wrappedContent};return e.widget.data.noCard||e.widget.usedInWidget?this.wrappedContent=!1:this.wrappedContent=!0,(0,r.A)(this.wrapContent((0,b.jsx)(h,{})),a)}}const y=f},4657:(e,a,t)=>{t.d(a,{A:()=>u});var o=t(7051),n=t(7085),i=t(8437),l=t(6016);const c=()=>{const{isSignalVisible:e,refService:a,widget:t}=(0,i.useContext)(l.C);(0,i.useEffect)((()=>{var o;if(null===a||void 0===a||!a.current)return;const n=null===(o=a.current)||void 0===o?void 0:o.children,i=[];for(let a=0;a<t.data["signals-count"];a++)e(a)&&i.push(a);const l=[];Object.values(n).forEach((e=>{var a;"vis-signal-icon iconOwn"===(null===(a=e.children[0])||void 0===a?void 0:a.className)&&l.push(e.children[0])})),l.forEach(((e,a)=>{const o=t.data["signals-color-".concat(i[a])];e.style.color=o,e.style.filter=o?"drop-shadow(0px 10000px 0)":null,e.style.transform=o?"translateY(-10000px)":null}))}),[t,a,e])},r=e=>{var a,t;const{widget:o}=(0,i.useContext)(l.C),n=null===(a=e.current)||void 0===a?void 0:a.clientWidth,c=null===(t=e.current)||void 0===t?void 0:t.clientHeight,[r,d]=(0,i.useState)("100%"),[s,u]=(0,i.useState)("100%");return(0,i.useEffect)((()=>{n>0&&c>0&&(o.data.square||o.data.circle?n<c?(d("".concat(n-16*o.data.basePadding,"px")),u("".concat(n-16*o.data.basePadding,"px"))):(d("".concat(c-16*o.data.basePadding,"px")),u("".concat(c-16*o.data.basePadding,"px"))):(d("100%"),u("100%")))}),[c,n,o.data.square,o.data.circle,o.data.basePadding]),{width:r,height:s}};var d=t(5702),s=t(579);const u=e=>{let{children:a,data:t,oidValue:u,bgActive:m=!0}=e;const p=(0,i.useRef)(null),{wrappedContent:x,widget:v}=(0,i.useContext)(l.C),{backgroundStyles:b,borderStyles:h,textStyles:f,fontStyles:y}=(0,d.A)(v.style),{width:g,height:S}=r(p),k=(u||0===u||!1===u)&&"".concat(u).concat(v.data.unit);c();const C=t.footer||t.alias||t.value||k;return(0,s.jsxs)(n.Paper,{className:"BASE-PAPER-0",square:v.data.squaredCorner,variant:v.data.outlinedFrame?"outlined":"elevation",sx:(0,o.A)((0,o.A)({overflow:"hidden",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},b),{},{border:x?h.border:null,borderWidth:x?h.borderWidth:null,borderStyle:x?h.borderStyle:null,borderRadius:x?h.borderRadius:null,borderColor:x?h.borderColor:t.frameBackgroundColorActive||t.frameBackgroundColor,background:x?v.data.frameBackgroundColorActive||t.frameBackgroundColorActive||t.frameBackgroundColor||v.data.frameBackgroundActive||t.frameBackgroundActive||t.frameBackground:"transparent"}),children:[!v.data.noHeader&&(0,s.jsx)(n.Box,{sx:{width:"100%",mt:v.data.basePadding/2,mb:-v.data.basePadding/2},children:(0,s.jsx)(n.Typography,{noWrap:!0,variant:"body2",sx:(0,o.A)((0,o.A)((0,o.A)({},y),f),{},{fontSize:t.headerSize,color:v.data.textColor||t.textColorActive||t.textColor}),children:t.header})}),(0,s.jsx)(n.Box,{className:"BASE-BOX-1",ref:p,sx:{overflow:"hidden",p:v.data.basePadding,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(n.Paper,{className:"BASE-PAPER-1",elevation:v.data.baseElevation,square:!v.data.basePadding||v.data.squaredCorner,variant:v.data.outlined?"outlined":"elevation",sx:{overflow:"hidden",width:g,height:S,display:"flex",justifyContent:"center",alignItems:"center",borderColor:x?null:t.backgroundColorActive||t.backgroundColor,background:x?v.data.backgroundColorActive||m&&t.backgroundColorActive||t.backgroundColor||v.data.backgroundActive||m&&t.backgroundActive||t.background:"transparent",borderRadius:v.data.circle||v.data.ellipse?"50%":null},children:a})}),!v.data.noFooter&&(0,s.jsx)(n.Box,{sx:{width:"100%",mt:-v.data.basePadding/2,mb:v.data.basePadding/2},children:(0,s.jsx)(n.Typography,{noWrap:!0,variant:"body2",sx:(0,o.A)((0,o.A)((0,o.A)({},y),f),{},{fontSize:t.footerSize,color:v.data.textColor||t.textColorActive||t.textColor}),children:C})})]})}},4376:(e,a,t)=>{t.d(a,{A:()=>l});var o=t(7085),n=(t(8437),t(8998)),i=t(579);const l=function(e){let{dividerText:a=""}=e;const t={position:"absolute",left:0,width:"100%"};return(0,i.jsx)(o.Box,{sx:{display:"block",pt:1.5,pb:a?2:1.5},children:a?(0,i.jsx)(o.Divider,{sx:t,children:(0,i.jsx)(o.Typography,{sx:{opacity:.5},variant:"caption",children:n.default.t(a)})}):(0,i.jsx)(o.Divider,{sx:t})})}},1676:(e,a,t)=>{t.d(a,{A:()=>s});var o=t(3471),n=t(7085),i=t(6240),l=t(8437),c=t(1783),r=t(6707),d=t(579);const s=function(e){let{field:a,data:t,onDataChange:s}=e;const u=null===a||void 0===a?void 0:a.name,m=(0,i.A)(),p=(0,l.useRef)(s),[x,v]=(0,l.useState)(t[u]||null),{setGradient:b}=(0,c.p)(x,v),[h,f]=(0,l.useState)(null),y=Boolean(h);return(0,l.useEffect)((()=>{u&&p.current({[u]:x})}),[x,u]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.Box,{sx:{display:"flex"},children:[!!x&&(0,d.jsx)(n.IconButton,{edge:"start",onClick:()=>{s({[u]:null}),v(null)},children:(0,d.jsx)(o.A,{})}),(0,d.jsx)(n.Box,{sx:{mt:"7px",boxSizing:"border-box",overflow:"hidden",borderRadius:"2px",width:"46px",height:"24px",border:x?"5px solid rgb(18, 18, 18)":"1px dashed",borderColor:"light"===m.name&&"action.disabledBackground"},children:(0,d.jsx)(n.Box,{onClick:e=>{f(e.currentTarget),x?b(x):b()},sx:{p:"5px",background:x||"transparent",cursor:"pointer",width:"100%",height:"100%"}})})]}),(0,d.jsx)(n.Popover,{slotProps:{paper:{elevation:0,sx:{p:"9px",borderRadius:"6px",backgroundColor:"rgb(32,32,32)"}}},open:y,anchorEl:h,onClose:()=>{f(null)},transformOrigin:{vertical:"top",horizontal:"center"},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,d.jsx)(n.Box,{sx:{borderRadius:"6px"},children:(0,d.jsx)(r.A,{value:x,onChange:e=>{v(e),s({[u]:x})},hidePresets:!0,hideEyeDrop:!0,hideAdvancedSliders:!0,hideColorGuide:!0,hideInputType:!0,hideColorTypeBtns:!0})})})]})}},7613:(e,a,t)=>{t.d(a,{A:()=>r});var o=t(7051),n=t(4376),i=t(1676),l=t(579);function c(e){return e.toLowerCase().split(" ").reduce(((e,a)=>e+(a.charAt(0).toUpperCase()+a.slice(1))))}function r(e){const a="values"===e?"iconSmall":c("icon small ".concat(e)),t="values"===e?"icon":c("icon ".concat(e)),r="values"===e?"iconSize":c("icon size ".concat(e)),d="values"===e?"iconColor":c("icon color ".concat(e)),s="values"===e?"iconHover":c("icon hover ".concat(e)),u="values"===e?"iconXOffset":c("icon x offset ".concat(e)),m="values"===e?"iconYOffset":c("icon y offset ".concat(e)),p="values"===e?"textColor":c("text color ".concat(e)),x="values"===e?"header":c("header ".concat(e)),v="values"===e?"headerSize":c("header size ".concat(e)),b="values"===e?"alias":c("alias ".concat(e)),h="values"===e?"value":c("value ".concat(e)),f="values"===e?"valueSize":c("value size ".concat(e)),y="values"===e?"footer":c("footer ".concat(e)),g="values"===e?"footerSize":c("footer size ".concat(e)),S="values"===e?"backgroundColor":c("background color ".concat(e)),k="values"===e?"background":c("background ".concat(e)),C="values"===e?"frameBackgroundColor":c("frame background color ".concat(e)),A="values"===e?"frameBackground":c("frame background ".concat(e)),_="values"===e?"values":"".concat(e),z="values"===e?"values":"group_".concat(e);let j;return j="values"===e?{name:_,label:z,indexFrom:1,indexTo:"values_count"}:{name:_,label:z},(0,o.A)((0,o.A)({},j),{},{fields:[{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"icon"}),hidden:"data.noIcon"},{name:a,label:"small_icon",type:"icon64",hidden:(e,a)=>e.noIcon||e["".concat(t).concat(void 0===a?"":a)]},{name:t,label:"icon",type:"image",hidden:(e,t)=>e.noIcon||e["".concat(a).concat(void 0===t?"":t)]},{name:r,label:"icon_size",type:"slider",min:1,max:500,step:1,hidden:"data.noIcon"},{name:d,label:"icon_color",type:"color",hidden:"data.noIcon"},{name:s,label:"icon_hover",type:"slider",min:0,max:300,step:1,hidden:"data.noIcon"},{name:u,label:"icon_x_offset",type:"text",default:"0px",hidden:"data.noIcon"},{name:m,label:"icon_y_offset",type:"text",default:"0px",hidden:"data.noIcon"},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"header"})},{name:x,label:"header_text",type:"text",default:""},{name:v,label:"header_size",type:"slider",min:0,max:500,step:1},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"value"})},{name:b,label:"alias",type:"text",default:""},{name:h,label:"value",type:"text",default:"",hidden:e=>"boolean"===e.oidType||"valueActive"===h},{name:f,label:"value_size",type:"slider",min:0,max:500,step:1},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"footer"})},{name:y,label:"footer_text",type:"text",default:""},{name:g,label:"footer_size",type:"slider",min:0,max:500,step:1},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"characteristics"})},{name:p,label:"text_color",type:"color"},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"background"})},{name:k,label:"background",default:"",type:"custom",component:(e,a,t,o)=>(0,l.jsx)(i.A,{field:e,data:a,onDataChange:t})},{name:S,label:"background_color",type:"color"},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"frame_background"})},{name:A,label:"frame_background",default:"",type:"custom",component:(e,a,t,o)=>(0,l.jsx)(i.A,{field:e,data:a,onDataChange:t})},{name:C,label:"frame_background_color",type:"color"}]})}},9966:(e,a,t)=>{t.d(a,{A:()=>r});var o=t(6211),n=t(4376),i=t(1676),l=t(579);async function c(e,a,t,n){if(a.oid){var i,l,c,r,d,s,u,m;const e=await n.getObject(a.oid),p=await async function(e,a){var t,n;let i=null;if(null!==a&&void 0!==a&&null!==(t=a.common)&&void 0!==t&&t.icon)i=a.common.icon;else if((null===a||void 0===a||null===(n=a.common)||void 0===n||!n.icon)&&("state"===a.type||"channel"===a.type)){const t=a._id.split("."),n=await e.getObject(t.slice(0,-1).join("."));if(i=o.A.getObjectIcon(n,t.slice(0,-1).join(".")),!i){const a=await e.getObject(t.slice(0,-2).join("."));i=o.A.getObjectIcon(a,t.slice(0,-2).join("."))}}return i}(n,e);if(a.icon=p,a.oidType=null===e||void 0===e||null===(i=e.common)||void 0===i?void 0:i.type,a.write=null===e||void 0===e||null===(l=e.common)||void 0===l?void 0:l.write,a.noButton=!(null!==e&&void 0!==e&&null!==(c=e.common)&&void 0!==c&&c.write),a.unit=(null===e||void 0===e||null===(r=e.common)||void 0===r?void 0:r.unit)||"",a.minValue=(null===e||void 0===e||null===(d=e.common)||void 0===d?void 0:d.min)||0,a.maxValue=(null===e||void 0===e||null===(s=e.common)||void 0===s?void 0:s.max)||100,null!==e&&void 0!==e&&null!==(u=e.common)&&void 0!==u&&u.states){if(Array.isArray(e.common.states)){const a={};e.common.states.forEach((e=>{a[e]=e})),e.common.states=a}a.values_count=Object.keys(e.common.states).length,Object.entries(e.common.states).forEach(((e,t)=>{let[o,n]=e;a["value".concat(t+1)]=o,a["alias".concat(t+1)]=n})),t(a)}else"boolean"===(null===e||void 0===e||null===(m=e.common)||void 0===m?void 0:m.type)?(a.values_count=2,a.value1=!0,a.alias1="TRUE",a.value2=!1,a.alias2="FALSE",t(a)):null!==e&&void 0!==e&&e.common&&(a.values_count=0,t(a))}else a.icon=null,a.onlyStates=null,a.write=!1,a.noButton=!0,a.g_switch=!1,t(a)}const r=function(){return{name:"common",fields:[{name:"oid",type:"id",label:"oid",onChange:c},{name:"unit",label:"unit",type:"text",default:""},{name:"values_count",type:"number",default:0,label:"values_count",hidden:"data.oidType === 'boolean'"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"write_value"})},{name:"sampleInterval",type:"checkbox",label:"sample_interval",default:!1},{name:"sampleIntervalValue",type:"number",label:"sample_interval_value",default:50,min:0,max:1e3,step:1,hidden:"!data.sampleInterval"},{name:"delay",type:"number",label:"delay",default:300,min:0,max:1e3,step:1,hidden:"data.sampleInterval"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"icon"}),hidden:"data.noIcon"},{name:"iconSmall",label:"small_icon",type:"icon64",hidden:"data.noIcon || data.icon"},{name:"icon",label:"icon",type:"image",hidden:"data.noIcon || data.iconSmall"},{name:"iconSize",label:"icon_size",type:"slider",min:1,max:500,step:1,hidden:"data.noIcon"},{name:"iconColor",label:"icon_color",type:"color",hidden:"data.noIcon"},{name:"iconHover",label:"icon_hover",type:"slider",min:0,max:300,step:1,hidden:"data.noIcon"},{name:"iconXOffset",label:"icon_x_offset",type:"text",default:"0px",hidden:"data.noIcon"},{name:"iconYOffset",label:"icon_y_offset",type:"text",default:"0px",hidden:"data.noIcon"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"header"})},{name:"noHeader",type:"checkbox",label:"no_header"},{name:"header",label:"header_text",type:"text",default:"",hidden:"data.noHeader"},{name:"headerSize",label:"header_size",type:"slider",min:0,max:500,step:1,hidden:"data.noHeader"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"value"})},{name:"valueSize",label:"value_size",type:"slider",min:0,max:500,step:1},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"footer"})},{name:"noFooter",label:"no_footer",type:"checkbox"},{name:"footer",label:"footer_text",type:"text",default:"",hidden:"data.noFooter"},{name:"footerSize",label:"footer_size",type:"slider",min:0,max:500,step:1,hidden:"data.noFooter"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"characteristics"})},{name:"noCard",label:"without_card",type:"checkbox"},{name:"squaredCorner",label:"squared_corner",type:"checkbox"},{name:"textColor",label:"text_color",type:"color"},{type:"custom",component:()=>(0,l.jsx)(n.A,{})},{name:"outlined",label:"outlined",type:"checkbox"},{name:"outlinedFrame",label:"outlined_frame",type:"checkbox"},{type:"custom",component:()=>(0,l.jsx)(n.A,{})},{name:"basePadding",label:"base_padding",type:"slider",min:0,max:10,step:.1,default:1},{name:"baseElevation",label:"base_elevation",type:"slider",min:0,max:24,step:1,default:4},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"geometry"})},{name:"square",label:"square",type:"checkbox",hidden:"data.circle || data.ellipse"},{name:"ellipse",label:"ellipse",type:"checkbox",hidden:"data.circle || data.square"},{name:"circle",label:"circle",type:"checkbox",hidden:"data.ellipse || data.square"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"background"})},{name:"background",label:"background",default:"",type:"custom",component:(e,a,t,o)=>(0,l.jsx)(i.A,{field:e,data:a,onDataChange:t})},{name:"backgroundColor",label:"background_color",type:"color"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"frame_background"})},{name:"frameBackground",label:"frame_background",default:"",type:"custom",component:(e,a,t,o)=>(0,l.jsx)(i.A,{field:e,data:a,onDataChange:t})},{name:"frameBackgroundColor",label:"frame_background_color",type:"color"}]}}},6016:(e,a,t)=>{t.d(a,{A:()=>r,C:()=>c});var o=t(7085),n=t(9172),i=t(8437),l=t(579);const c=(0,i.createContext)({});const r=function(e){let{children:a,context:t}=e;const r=(0,i.useMemo)((()=>t),[t]),d=t.mode,s=t.theme,u=(0,i.useMemo)((()=>{const e="dark"===d?{palette:{mode:"dark"}}:{};return(0,o.createTheme)((0,n.A)(s,(0,n.A)(e,{components:{MuiTypography:{}}})))}),[d,s]);return(0,l.jsx)(o.ThemeProvider,{theme:u,children:(0,l.jsx)(c.Provider,{value:r,children:a})})}},900:(e,a,t)=>{t.d(a,{A:()=>i});t(8437);var o=t(6016),n=t(579);const i=function(e,a){return(0,n.jsx)(o.A,{context:a,children:e})}},2152:(e,a,t)=>{t.d(a,{A:()=>c});var o=t(8437),n=t(6016),i=t(5001),l=t(5702);const c=function(e){const{theme:a,widget:t,oidObject:c}=(0,o.useContext)(n.C),{fontStyles:r,textStyles:d,backgroundStyles:s}=(0,l.A)(t.style),[u,m]=(0,o.useState)(),p=(0,i.A)(e),x=(0,o.useMemo)((()=>{var e,o;function n(e){return{textColor:t.data.textColor||d.color||a.palette.primary.main,textColorActive:t.data["textColor".concat(e)],header:t.data.headerActive||t.data["header".concat(e)]||t.data.header||l,headerSize:t.data.headerSize&&"".concat(t.data.headerSize,"%")||t.data.headerSizeActive&&"".concat(t.data.headerSizeActive,"%")||t.data["headerSize".concat(e)]&&"".concat(t.data["headerSize".concat(e)],"%")||r.fontSize,footer:t.data.footerActive||t.data["footer".concat(e)]||t.data.footer,footerSize:t.data.footerSize&&"".concat(t.data.footerSize,"%")||t.data.footerSizeActive&&"".concat(t.data.footerSizeActive,"%")||t.data["footerSize".concat(e)]&&"".concat(t.data["footerSize".concat(e)],"%")||r.fontSize,alias:t.data["alias".concat(e)],value:t.data["value".concat(e)]&&"".concat(t.data["value".concat(e)]).concat(t.data.unit),valueSize:t.data.valueSize&&"".concat(t.data.valueSize,"%")||r.fontSize,valueSizeActive:t.data["valueSize".concat(e)]&&"".concat(t.data["valueSize".concat(e)],"%"),icon:!t.data.noIcon&&(t.data.icon||t.data.iconSmall),iconActive:!t.data.noIcon&&(t.data["icon".concat(e)]||t.data["iconSmall".concat(e)]),iconSize:(t.data.iconSize||0===t.data.iconSize)&&"calc(24px * ".concat(t.data.iconSize," / 100)")||"24px",iconSizeActive:t.data["iconSize".concat(e)]&&"calc(24px * ".concat(t.data["iconSize".concat(e)]," / 100)"),iconSizeOnly:t.data["iconSize".concat(e)]||t.data.iconSize,iconColor:t.data.iconColor,iconColorActive:t.data["iconColor".concat(e)],iconHover:t.data.iconHover&&"".concat(t.data.iconHover,"%"),iconHoverActive:t.data["iconHover".concat(e)]&&"".concat(t.data["iconHover".concat(e)],"%"),iconXOffset:!!t.data["iconXOffset".concat(e)]&&t.data["iconXOffset".concat(e)]||!!t.data.iconXOffset&&t.data.iconXOffset||"0px",iconYOffset:!!t.data["iconYOffset".concat(e)]&&t.data["iconYOffset".concat(e)]||!!t.data.iconYOffset&&t.data.iconYOffset||"0px",backgroundColor:t.data.backgroundColor||s.backgroundColor,backgroundColorActive:t.data["backgroundColor".concat(e)],background:t.data.background||s.background,backgroundActive:t.data["background".concat(e)],frameBackgroundColor:t.data.frameBackgroundColor||s.backgroundColor,frameBackgroundColorActive:t.data["frameBackgroundColor".concat(e)],frameBackground:t.data.frameBackground||s.background,frameBackgroundActive:t.data["frameBackground".concat(e)]}}const i=null===c||void 0===c||null===(e=c.common)||void 0===e?void 0:e.type,l=null===c||void 0===c||null===(o=c.common)||void 0===o?void 0:o.name;switch(i){case"boolean":case"number":case"string":for(let e=1;e<=Number(t.data.values_count);e++)if(void 0!==t.data["value".concat(e)]&&(t.data["value".concat(e)]===p||t.data["value".concat(e)]===String(p)))return m(e),n(e);return n("");default:return n("")}}),[t,r,d,s,c,p,a]),{states:v,widgetStates:b,minValue:h,maxValue:f}=(0,o.useMemo)((()=>{var e,a;const o=null===c||void 0===c||null===(e=c.common)||void 0===e?void 0:e.type,n=(null===c||void 0===c||null===(a=c.common)||void 0===a?void 0:a.states)||{},i={},l=[];let r=0,d=100;if("number"===o||"string"===o){const e=Object.entries(n);for(let a=1;a<=Number(t.data.values_count);a++)if(void 0!==t.data["value".concat(a)]&&null!==t.data["value".concat(a)]&&/\S/.test(t.data["value".concat(a)])){const n=e.find((e=>{let[o]=e;return o===t.data["value".concat(a)]}));n&&"number"===o&&(n[0]=Number(n[0])),l.push({value:n?n[0]:"number"===o?Number(t.data["value".concat(a)]):t.data["value".concat(a)],label:t.data["alias".concat(a)]||(n?n[1]:"".concat(t.data["value".concat(a)]).concat(t.data.unit))}),i[n?String(n[0]):t.data["value".concat(a)]]=t.data["alias".concat(a)]||(n?n[1]:"".concat(t.data["value".concat(a)]).concat(t.data.unit))}l.length&&(r=Math.min(...l.map((e=>e.value))),d=Math.max(...l.map((e=>e.value))))}if("boolean"===o)for(let c=1;c<=Number(t.data.values_count);c++)l.push({value:t.data["value".concat(c)],label:t.data["alias".concat(c)]}),i[String(t.data["value".concat(c)])]=t.data["value".concat(c)];return{states:l,widgetStates:i,minValue:r,maxValue:d}}),[c,t]);return{states:v,widgetStates:b,minValue:h,maxValue:f,data:x,activeIndex:u}}},6255:(e,a,t)=>{t.d(a,{A:()=>c});var o=t(8437),n=t(8814),i=t(9159),l=t(6413);const c=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[t,c]=(0,o.useState)(e),r=(0,o.useRef)(null),[d,s]=(0,o.useState)(e),u=(0,o.useRef)(null);return(0,o.useEffect)((()=>{r.current=new n.B,u.current=new n.B;const e=r.current.pipe((0,i.B)(a)).subscribe(c),t=u.current.pipe((0,l.c)(a)).subscribe(s);return()=>{e.unsubscribe(),t.unsubscribe()}}),[a]),(0,o.useEffect)((()=>{r.current&&r.current.next(e),u.current&&u.current.next(e)}),[e]),{debouncedValue:t,sampledValue:d}}},5001:(e,a,t)=>{t.d(a,{A:()=>i});var o=t(8437),n=t(6016);const i=e=>{const{getPropertyValue:a}=(0,o.useContext)(n.C),t=a(e),[i,l]=(0,o.useState)(t);return(0,o.useEffect)((()=>{l(t)}),[t]),i}},5702:(e,a,t)=>{t.d(a,{A:()=>i});var o=t(8437);const n=["background","background-color","background-image","background-position","background-repeat","background-size","background-clip","background-origin","border","border-width","border-style","border-color","border-radius","color","text-align","text-shadow","font-family","font-size","font-weight","font-style","font-variant","line-height","letter-spacing","word-spacing","box-sizing","box-shadow"],i=e=>{const[a,t]=(0,o.useState)({}),[i,l]=(0,o.useState)({}),[c,r]=(0,o.useState)({}),[d,s]=(0,o.useState)({}),[u,m]=(0,o.useState)({}),p=(0,o.useMemo)((()=>{const a={},t={},o={},i={},l={};return n.forEach((n=>{if(e[n]){const c=n.replace(/(-\w)/g,(e=>e[1].toUpperCase()));n.includes("background")?a[c]=e[n]:n.includes("border")?t[c]=e[n]:n.includes("font")||n.includes("line-height")||n.includes("letter-spacing")||n.includes("word-spacing")?i[c]=e[n]:n.includes("text")||n.includes("color")?o[c]=e[n]:l[c]=e[n]}})),{_backgroundStyles:a,_borderStyles:t,_textStyles:o,_fontStyles:i,_boxStyles:l}}),[e]);return(0,o.useEffect)((()=>{t(p._backgroundStyles),l(p._borderStyles),r(p._textStyles),s(p._fontStyles),m(p._boxStyles)}),[p]),{boxStyles:u,backgroundStyles:a,borderStyles:i,textStyles:c,fontStyles:d}}}}]);
//# sourceMappingURL=src_components_CollectionDivider_jsx.52dabada.chunk.js.map