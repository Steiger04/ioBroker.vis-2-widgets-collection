"use strict";(self.webpackChunkiobroker_vis_widgets_react_collection=self.webpackChunkiobroker_vis_widgets_react_collection||[]).push([["src_components_CollectionDivider_jsx"],{6211:(e,t,a)=>{a.d(t,{A:()=>l});var o=a(7085),n=(a(8437),a(579));class i extends window.visRxWidget{constructor(){var e;super(...arguments),e=this,this.getPropertyValue=e=>this.state.values["".concat(this.state.rxData[e],".val")],this.setValue=function(t,a){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&e.props.context.socket.setState(t,a,o).catch((e=>console.error("Cannot set state ".concat(t,": ").concat(e))))}}static getI18nPrefix(){return"vis_2_widgets_collection_"}async getParentObject(e){const t=e.split(".");t.pop();const a=t.join(".");return this.props.context.socket.getObject(a)}static getObjectIcon(e,t,a){a=a||"../..";let o="";const n=e&&e.common;if(n){const i=n.icon;if(i)if(i.startsWith("data:image/"))o=i;else{if(!i.includes("."))return null;{let l;"instance"===e.type||"adapter"===e.type?o="".concat(a,"/adapter/").concat(n.name,"/").concat(i):t&&t.startsWith("system.adapter.")?(l=t.split(".",3),"/"===i[0]?l[2]+=i:l[2]+="/".concat(i),o="".concat(a,"/adapter/").concat(l[2])):(l=t.split(".",2),"/"===i[0]?l[0]+=i:l[0]+="/".concat(i),o="".concat(a,"/adapter/").concat(l[0]))}}}return o||null}async createStateObjectAsync(e){if(!this.state.rxData[e]||"nothing_selected"===this.state.rxData[e])return this.setState({["".concat(e,"Object")]:{common:{}}}),void(this.state.rxData.icon&&this.setState({["".concat(e,"Object")]:{common:{icon:this.state.rxData.icon}}}));let t=await this.props.context.socket.getObject(this.state.rxData.oid);if(t=t?{common:t.common,_id:t._id,type:t.type}:{common:{}},t.common=t.common||{},"number"===t.common.type&&(void 0===t.common.max&&(t.common.max=100),void 0===t.common.min&&(t.common.min=0)),t.common.states&&Array.isArray(t.common.states)){const e={};t.common.states.forEach((t=>{e[t]=t})),t.common.states=e}t.common.name&&"object"===typeof t.common.name&&(t.common.name=t.common.name[i.getLanguage()]||t.common.name.en),JSON.stringify(this.state["".concat(e,"Object")])!==JSON.stringify(t)&&this.setState({["".concat(e,"Object")]:t})}wrapContent(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.CssBaseline,{}),(0,n.jsx)(o.Box,{className:"GENERIC-0",sx:{position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,n.jsx)(o.Box,{className:"GENERIC-1",sx:{width:this.wrappedContent?"calc(100% - 8px)":"100%",height:this.wrappedContent?"calc(100% - 8px)":"100%"},children:e})})]})}}const l=i},8998:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var o=a(7051),n=a(8437),i=a(6211),l=a(4376),r=a(7613),c=a(9966),d=a(900),s=a(7085),u=a(4657),m=a(6016),p=a(2152),x=a(6255),v=a(5001),b=a(579);const h=function(){var e;const{values:t,setState:a,setValue:i,oidObject:l,widget:r}=(0,n.useContext)(m.C),{data:c,states:d,minValue:h,maxValue:f,activeIndex:y}=(0,p.A)("oid"),g=(0,v.A)("oid"),S=null===l||void 0===l?void 0:l._id,k=null===l||void 0===l||null===(e=l.common)||void 0===e?void 0:e.type,C=r.data.sampleInterval?r.data.sampleIntervalValue:r.data.delay,{debouncedValue:A,sampledValue:_}=(0,x.A)(g,C),z=r.data.startIconColor||r.data.sliderColor||c.iconColor,j=r.data.endIconColor||r.data.sliderColor||c.iconColor;(0,n.useEffect)((()=>{r.data.sampleInterval||void 0===A||i(S,A)}),[A,S,i,r.data.sampleInterval]),(0,n.useEffect)((()=>{r.data.sampleInterval&&void 0!==_&&i(S,_)}),[_,S,i,r.data.sampleInterval]);const w=(0,n.useMemo)((()=>r.data.onlyStates||void 0===r.data.minValue?h:Number(r.data.minValue)),[r.data.onlyStates,r.data.minValue,h]),O=(0,n.useMemo)((()=>r.data.onlyStates||void 0===r.data.maxValue?f:Number(r.data.maxValue)),[r.data.onlyStates,r.data.maxValue,f]),I=(0,n.useMemo)((()=>{const e=JSON.parse(JSON.stringify(d));if(r.data.onlyStates)return e;const t=w,a=O;e&&!e.some((e=>e.value===t))&&e.push({value:t,label:"".concat(t).concat(r.data.unit)}),e&&!e.some((e=>e.value===a))&&e.push({value:a,label:"".concat(a).concat(r.data.unit)});const o=Number(r.data.markStep)||1;for(let n=t+o;n<a;n+=o)e.some((e=>e.value===n))||e.push({value:n,label:"".concat(n).concat(r.data.unit)});return e.sort(((e,t)=>e.value-t.value)),e}),[d,w,O,r.data.markStep,r.data.unit,r.data.onlyStates]);return(0,b.jsx)(u.A,{data:c,oidValue:g,children:(0,b.jsxs)(s.Box,{sx:{width:"100%",height:"100%",p:1,display:"flex",flexDirection:"horizontal"===r.data.sliderOrientation?"row":"column",justifyContent:"space-between",alignItems:"center"},children:[(c.iconActive||c.icon)&&(0,b.jsx)("img",{alt:"",src:c.iconActive||c.icon,style:{position:"absolute",top:"calc(0px + ".concat(c.iconYOffset,")"),right:"calc(0px + ".concat(c.iconXOffset,")"),width:c.iconSizeActive||c.iconSize,height:c.iconSizeActive||c.iconSize,color:c.iconColorActive||c.iconColor,filter:c.iconColorActive||c.iconColor?"drop-shadow(0px 10000px 0)":null,transform:c.iconColorActive||c.iconColor?"translateY(-10000px)":null}}),(0,b.jsx)(s.Box,{sx:{position:"relative",bottom:"horizontal"===r.data.sliderOrientation&&(r.data.onlyStates||r.data.marks)?"10px":"0px",right:"vertical"===r.data.sliderOrientation&&(r.data.onlyStates||r.data.marks)?"22px":"0px",p:1,display:"flex",justifyContent:"center",alignItems:"center"},children:("horizontal"===r.data.sliderOrientation&&(r.data.iconMin||r.data.iconSmallMin)||"vertical"===r.data.sliderOrientation&&(r.data.iconMax||r.data.iconSmallMax))&&(0,b.jsx)("img",{alt:"",src:"horizontal"===r.data.sliderOrientation?r.data.iconMin||r.data.iconSmallMin:r.data.iconMax||r.data.iconSmallMax,style:{width:"horizontal"===r.data.sliderOrientation?r.data.iconSizeStart||"24px":r.data.iconSizeEnd||"24px",height:"horizontal"===r.data.sliderOrientation?r.data.iconSizeStart||"24px":r.data.iconSizeEnd||"24px",color:"horizontal"===r.data.sliderOrientation?z:j,filter:"drop-shadow(0px 10000px 0)",transform:"translateY(-10000px)"}})}),(0,b.jsx)(s.Box,{sx:{p:1,display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center"},children:(0,b.jsx)(s.Slider,{disabled:"number"!==k,valueLabelDisplay:r.data.valueLabelDisplay,orientation:r.data.sliderOrientation,sx:{"& .MuiSlider-thumb":{color:r.data.sliderColor},"& .MuiSlider-rail":{color:r.data.sliderColor||"primary.main"},"& .MuiSlider-track":{color:r.data.sliderColor||"primary.main"},"& .MuiSlider-mark":{color:r.data.sliderColor||"primary.main"},"& .MuiSlider-markActive":{bgcolor:r.data.sliderColor||"primary.main",filter:"brightness(2.5)"},"& .MuiSlider-valueLabel":{fontSize:c.valueSizeActive||r.data.markerTextSize&&"".concat(r.data.markerTextSize,"%")||c.valueSize||"1em",color:c.textColorActive||r.data.markerTextColor||c.textColor,bgcolor:"transparent",top:"horizontal"===r.data.sliderOrientation?r.data.labelPosition:null,right:"vertical"===r.data.sliderOrientation?r.data.labelPosition:null},"& .MuiSlider-markLabel":{fontSize:r.data.markerTextSize&&"".concat(r.data.markerTextSize,"%")||c.valueSize||"1em",color:r.data.markerTextColor||c.textColor,top:"horizontal"===r.data.sliderOrientation?r.data.markPosition:null,left:"vertical"===r.data.sliderOrientation?r.data.markPosition:null},"& .MuiSlider-markLabelActive":{["&[data-index='".concat(y-1,"']")]:{fontSize:c.valueSizeActive,color:c.textColorActive||r.data.markerTextColor||c.textColor}}},min:w,max:O,marks:r.data.onlyStates||r.data.marks&&I&&I.length?I:r.data.marks,step:!r.data.onlyStates&&r.data.step?Number(r.data.step):r.data.onlyStates&&I&&I.length?null:r.data.step?Number(r.data.step):1,size:r.data.sliderSize,value:g||0,onChange:(e,n)=>a({values:(0,o.A)((0,o.A)({},t),{},{["".concat(S,".val")]:n})})})}),(0,b.jsx)(s.Box,{sx:{position:"relative",bottom:"horizontal"===r.data.sliderOrientation&&(r.data.onlyStates||r.data.marks)?"10px":"0px",right:"vertical"===r.data.sliderOrientation&&(r.data.onlyStates||r.data.marks)?"22px":"0px",p:1,display:"flex",justifyContent:"center",alignItems:"center"},children:("horizontal"===r.data.sliderOrientation&&(r.data.iconMax||r.data.iconSmallMax)||"vertical"===r.data.sliderOrientation&&(r.data.iconMin||r.data.iconSmallMin))&&(0,b.jsx)("img",{alt:"",src:"horizontal"===r.data.sliderOrientation?r.data.iconMax||r.data.iconSmallMax:r.data.iconMin||r.data.iconSmallMin,style:{width:"horizontal"===r.data.sliderOrientation?r.data.iconSizeEnd||"24px":r.data.iconSizeStart||"24px",height:"horizontal"===r.data.sliderOrientation?r.data.iconSizeEnd||"24px":r.data.iconSizeStart||"24px",color:"horizontal"===r.data.sliderOrientation?j:z,filter:"drop-shadow(0px 10000px 0)",transform:"translateY(-10000px)"}})})]})})};class f extends i.A{static getWidgetInfo(){return{id:"tplSliderCollectionWidget",visSet:"vis-2-widgets-collection",visSetLabel:"widgets_collection",visName:"SliderCollectionWidget",visWidgetLabel:"slider_collection_widget",visAttrs:[(0,c.A)(),{name:"slider",label:"group_slider",fields:[{name:"sliderSize",label:"slider_size",type:"select",options:[{value:"small",label:"slider_small"},{value:"medium",label:"slider_medium"}],default:"medium"},{name:"sliderOrientation",label:"slider_orientation",type:"select",options:[{value:"horizontal",label:"horizontal"},{value:"vertical",label:"vertical"}],default:"horizontal"},{name:"valueLabelDisplay",label:"value_label_display",type:"select",options:[{value:"on",label:"label_on"},{value:"off",label:"label_off"},{value:"auto",label:"label_auto"}],default:"off"},{name:"labelPosition",label:"label_position",type:"text",default:"-5px",hidden:"data.valueLabelDisplay === 'off'"},{name:"sliderColor",label:"slider_color",type:"color"},{type:"custom",component:()=>(0,b.jsx)(l.A,{dividerText:"values"})},{name:"minValue",type:"number",label:"min_value",default:0},{name:"maxValue",type:"number",label:"max_value",default:100},{name:"step",type:"number",label:"step",default:10},{type:"custom",component:()=>(0,b.jsx)(l.A,{}),hidden:"!data.values_count"},{name:"onlyStates",type:"checkbox",label:"only_states",default:!1,hidden:"!data.values_count"},{type:"custom",component:()=>(0,b.jsx)(l.A,{dividerText:"marks"})},{name:"marks",type:"checkbox",label:"marks",default:!1},{type:"custom",component:()=>(0,b.jsx)(l.A,{}),hidden:"!data.marks"},{name:"markPosition",label:"mark_position",type:"text",default:"30px",hidden:"!data.marks"},{name:"markStep",type:"number",label:"mark_step",default:10,hidden:"!data.marks"},{type:"custom",component:()=>(0,b.jsx)(l.A,{}),hidden:"!data.marks"},{name:"markerTextColor",label:"text_color",type:"color",hidden:"!data.marks"},{name:"markerTextSize",label:"marker_text_size",type:"slider",min:0,max:500,default:80,step:1,hidden:"!data.marks"},{type:"custom",component:()=>(0,b.jsx)(l.A,{dividerText:"icon"})},{name:"iconSmallMin",label:"icon_small_min",type:"icon64",hidden:"data.iconMin"},{name:"iconMin",label:"icon_min",type:"image",hidden:"data.iconSmallMin"},{name:"iconSizeStart",label:"icon_size",type:"text",default:"24px",hidden:"!data.iconMin && !data.iconSmallMin"},{name:"startIconColor",label:"icon_color",type:"color",hidden:"!data.iconMin && !data.iconSmallMin"},{type:"custom",component:()=>(0,b.jsx)(l.A,{dividerText:"icon"})},{name:"iconSmallMax",label:"icon_small_max",type:"icon64",hidden:"data.iconMax"},{name:"iconMax",label:"icon_max",type:"image",hidden:"data.iconSmallMax"},{name:"iconSizeEnd",label:"icon_size",type:"text",default:"24px",hidden:"!data.iconMax && !data.iconSmallMax"},{name:"endIconColor",label:"icon_color",type:"color",hidden:"!data.iconMax && !data.iconSmallMax"}]},(0,r.A)("values")],visDefaultStyle:{width:"100%",height:"100px",position:"relative"},visPrev:"widgets/vis-2-widgets-collection/img/prev-collection-slider.png"}}getWidgetInfo(){return f.getWidgetInfo()}async propertiesUpdate(){const e=JSON.stringify(this.state.rxData);this.lastRxData!==e&&(this.lastRxData=e,await this.createStateObjectAsync("oid"))}async onRxDataChanged(e){await this.propertiesUpdate()}onRxStyleChanged(){}onStateUpdated(e,t){}async componentDidMount(){super.componentDidMount(),await this.propertiesUpdate()}renderWidgetBody(e){super.renderWidgetBody(e);const t={id:e.id,refService:e.refService,style:e.style,widget:(0,o.A)((0,o.A)({},e.widget),{},{data:this.state.rxData,style:this.state.rxStyle}),setValue:this.setValue,setState:this.setState.bind(this),oidObject:this.state.oidObject,values:this.state.values,isSignalVisible:this.isSignalVisible.bind(this),getPropertyValue:this.getPropertyValue.bind(this),mode:this.props.context.themeType,socket:this.props.context.socket,theme:this.props.context.theme,wrappedContent:this.wrappedContent};return e.widget.data.noCard||e.widget.usedInWidget?this.wrappedContent=!1:this.wrappedContent=!0,(0,d.A)(this.wrapContent((0,b.jsx)(h,{})),t)}}const y=f},4657:(e,t,a)=>{a.d(t,{A:()=>u});var o=a(7051),n=a(7085),i=a(8437),l=a(6016);const r=()=>{const{isSignalVisible:e,refService:t,widget:a}=(0,i.useContext)(l.C);(0,i.useEffect)((()=>{var o;if(null===t||void 0===t||!t.current)return;const n=null===(o=t.current)||void 0===o?void 0:o.children,i=[];for(let t=0;t<a.data["signals-count"];t++)e(t)&&i.push(t);const l=[];Object.values(n).forEach((e=>{var t;"vis-signal-icon iconOwn"===(null===(t=e.children[0])||void 0===t?void 0:t.className)&&l.push(e.children[0])})),l.forEach(((e,t)=>{const o=a.data["signals-color-".concat(i[t])];e.style.color=o,e.style.filter=o?"drop-shadow(0px 10000px 0)":null,e.style.transform=o?"translateY(-10000px)":null}))}),[a,t,e])},c=e=>{var t,a;const{widget:o}=(0,i.useContext)(l.C),n=null===(t=e.current)||void 0===t?void 0:t.clientWidth,r=null===(a=e.current)||void 0===a?void 0:a.clientHeight,[c,d]=(0,i.useState)("100%"),[s,u]=(0,i.useState)("100%");return(0,i.useEffect)((()=>{n>0&&r>0&&(o.data.square||o.data.circle?n<r?(d("".concat(n-16*o.data.basePadding,"px")),u("".concat(n-16*o.data.basePadding,"px"))):(d("".concat(r-16*o.data.basePadding,"px")),u("".concat(r-16*o.data.basePadding,"px"))):(d("100%"),u("100%")))}),[r,n,o.data.square,o.data.circle,o.data.basePadding]),{width:c,height:s}};var d=a(5702),s=a(579);const u=e=>{let{children:t,data:a,oidValue:u,bgActive:m=!0}=e;const p=(0,i.useRef)(null),{wrappedContent:x,widget:v}=(0,i.useContext)(l.C),{backgroundStyles:b,borderStyles:h,textStyles:f,fontStyles:y}=(0,d.A)(v.style),{width:g,height:S}=c(p),k=(u||0===u||!1===u)&&"".concat(u).concat(v.data.unit);r();const C=a.footer||a.alias||a.value||k;return(0,s.jsxs)(n.Paper,{className:"BASE-PAPER-0",square:v.data.squaredCorner,variant:v.data.outlinedFrame?"outlined":"elevation",sx:(0,o.A)((0,o.A)({overflow:"hidden",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},b),{},{border:x?h.border:null,borderWidth:x?h.borderWidth:null,borderStyle:x?h.borderStyle:null,borderRadius:x?h.borderRadius:null,borderColor:x?h.borderColor:a.frameBackgroundColorActive||a.frameBackgroundColor,background:x?v.data.frameBackgroundColorActive||a.frameBackgroundColorActive||a.frameBackgroundColor||v.data.frameBackgroundActive||a.frameBackgroundActive||a.frameBackground:"transparent"}),children:[!v.data.noHeader&&(0,s.jsx)(n.Box,{sx:{width:"100%",mt:v.data.basePadding/2,mb:-v.data.basePadding/2},children:(0,s.jsx)(n.Typography,{noWrap:!0,variant:"body2",sx:(0,o.A)((0,o.A)((0,o.A)({},y),f),{},{fontSize:a.headerSize,color:v.data.textColor||a.textColorActive||a.textColor}),children:a.header})}),(0,s.jsx)(n.Box,{className:"BASE-BOX-1",ref:p,sx:{overflow:"hidden",p:v.data.basePadding,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(n.Paper,{className:"BASE-PAPER-1",elevation:v.data.baseElevation,square:!v.data.basePadding||v.data.squaredCorner,variant:v.data.outlined?"outlined":"elevation",sx:{overflow:"hidden",width:g,height:S,display:"flex",justifyContent:"center",alignItems:"center",borderColor:x?null:a.backgroundColorActive||a.backgroundColor,background:x?v.data.backgroundColorActive||m&&a.backgroundColorActive||a.backgroundColor||v.data.backgroundActive||m&&a.backgroundActive||a.background:"transparent",borderRadius:v.data.circle||v.data.ellipse?"50%":null},children:t})}),!v.data.noFooter&&(0,s.jsx)(n.Box,{sx:{width:"100%",mt:-v.data.basePadding/2,mb:v.data.basePadding/2},children:(0,s.jsx)(n.Typography,{noWrap:!0,variant:"body2",sx:(0,o.A)((0,o.A)((0,o.A)({},y),f),{},{fontSize:a.footerSize,color:v.data.textColor||a.textColorActive||a.textColor}),children:C})})]})}},4376:(e,t,a)=>{a.d(t,{A:()=>l});var o=a(7085),n=(a(8437),a(8998)),i=a(579);const l=function(e){let{dividerText:t=""}=e;const a={position:"absolute",left:0,width:"100%"};return(0,i.jsx)(o.Box,{sx:{display:"block",pt:1.5,pb:t?2:1.5},children:t?(0,i.jsx)(o.Divider,{sx:a,children:(0,i.jsx)(o.Typography,{sx:{opacity:.5},variant:"caption",children:n.default.t(t)})}):(0,i.jsx)(o.Divider,{sx:a})})}},1676:(e,t,a)=>{a.d(t,{A:()=>s});var o=a(3471),n=a(7085),i=a(6240),l=a(8437),r=a(1783),c=a(6707),d=a(579);const s=function(e){let{field:t,data:a,onDataChange:s}=e;const u=null===t||void 0===t?void 0:t.name,m=(0,i.A)(),p=(0,l.useRef)(s),[x,v]=(0,l.useState)(a[u]||null),{setGradient:b}=(0,r.p)(x,v),[h,f]=(0,l.useState)(null),y=Boolean(h);return(0,l.useEffect)((()=>{u&&p.current({[u]:x})}),[x,u]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.Box,{sx:{display:"flex"},children:[!!x&&(0,d.jsx)(n.IconButton,{edge:"start",onClick:()=>{s({[u]:null}),v(null)},children:(0,d.jsx)(o.A,{})}),(0,d.jsx)(n.Box,{sx:{mt:"7px",boxSizing:"border-box",overflow:"hidden",borderRadius:"2px",width:"46px",height:"24px",border:x?"5px solid rgb(18, 18, 18)":"1px dashed",borderColor:"light"===m.name&&"action.disabledBackground"},children:(0,d.jsx)(n.Box,{onClick:e=>{f(e.currentTarget),x?b(x):b()},sx:{p:"5px",background:x||"transparent",cursor:"pointer",width:"100%",height:"100%"}})})]}),(0,d.jsx)(n.Popover,{slotProps:{paper:{elevation:0,sx:{p:"9px",borderRadius:"6px",backgroundColor:"rgb(32,32,32)"}}},open:y,anchorEl:h,onClose:()=>{f(null)},transformOrigin:{vertical:"top",horizontal:"center"},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,d.jsx)(n.Box,{sx:{borderRadius:"6px"},children:(0,d.jsx)(c.A,{value:x,onChange:e=>{v(e),s({[u]:x})},hidePresets:!0,hideEyeDrop:!0,hideAdvancedSliders:!0,hideColorGuide:!0,hideInputType:!0,hideColorTypeBtns:!0})})})]})}},7613:(e,t,a)=>{a.d(t,{A:()=>c});var o=a(7051),n=a(4376),i=a(1676),l=a(579);function r(e){return e.toLowerCase().split(" ").reduce(((e,t)=>e+(t.charAt(0).toUpperCase()+t.slice(1))))}function c(e){const t="values"===e?"iconSmall":r("icon small ".concat(e)),a="values"===e?"icon":r("icon ".concat(e)),c="values"===e?"iconSize":r("icon size ".concat(e)),d="values"===e?"iconColor":r("icon color ".concat(e)),s="values"===e?"iconHover":r("icon hover ".concat(e)),u="values"===e?"iconXOffset":r("icon x offset ".concat(e)),m="values"===e?"iconYOffset":r("icon y offset ".concat(e)),p="values"===e?"textColor":r("text color ".concat(e)),x="values"===e?"header":r("header ".concat(e)),v="values"===e?"headerSize":r("header size ".concat(e)),b="values"===e?"alias":r("alias ".concat(e)),h="values"===e?"value":r("value ".concat(e)),f="values"===e?"valueSize":r("value size ".concat(e)),y="values"===e?"footer":r("footer ".concat(e)),g="values"===e?"footerSize":r("footer size ".concat(e)),S="values"===e?"backgroundColor":r("background color ".concat(e)),k="values"===e?"background":r("background ".concat(e)),C="values"===e?"frameBackgroundColor":r("frame background color ".concat(e)),A="values"===e?"frameBackground":r("frame background ".concat(e)),_="values"===e?"values":"".concat(e),z="values"===e?"values":"group_".concat(e);let j;return j="values"===e?{name:_,label:z,indexFrom:1,indexTo:"values_count"}:{name:_,label:z},(0,o.A)((0,o.A)({},j),{},{fields:[{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"icon"}),hidden:"data.noIcon"},{name:t,label:"small_icon",type:"icon64",hidden:(e,t)=>e.noIcon||e["".concat(a).concat(void 0===t?"":t)]},{name:a,label:"icon",type:"image",hidden:(e,a)=>e.noIcon||e["".concat(t).concat(void 0===a?"":a)]},{name:c,label:"icon_size",type:"slider",min:1,max:500,step:1,hidden:"data.noIcon"},{name:d,label:"icon_color",type:"color",hidden:"data.noIcon"},{name:s,label:"icon_hover",type:"slider",min:0,max:300,step:1,hidden:"data.noIcon"},{name:u,label:"icon_x_offset",type:"text",default:"0px",hidden:"data.noIcon"},{name:m,label:"icon_y_offset",type:"text",default:"0px",hidden:"data.noIcon"},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"header"})},{name:x,label:"header_text",type:"text",default:""},{name:v,label:"header_size",type:"slider",min:0,max:500,step:1},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"value"})},{name:b,label:"alias",type:"text",default:""},{name:h,label:"value",type:"text",default:"",hidden:e=>"boolean"===e.oidType||"valueActive"===h},{name:f,label:"value_size",type:"slider",min:0,max:500,step:1},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"footer"})},{name:y,label:"footer_text",type:"text",default:""},{name:g,label:"footer_size",type:"slider",min:0,max:500,step:1},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"characteristics"})},{name:p,label:"text_color",type:"color"},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"background"})},{name:k,label:"background",default:"",type:"custom",component:(e,t,a,o)=>(0,l.jsx)(i.A,{field:e,data:t,onDataChange:a})},{name:S,label:"background_color",type:"color"},{label:"",type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"frame_background"})},{name:A,label:"frame_background",default:"",type:"custom",component:(e,t,a,o)=>(0,l.jsx)(i.A,{field:e,data:t,onDataChange:a})},{name:C,label:"frame_background_color",type:"color"}]})}},9966:(e,t,a)=>{a.d(t,{A:()=>c});var o=a(6211),n=a(4376),i=a(1676),l=a(579);async function r(e,t,a,n){if(t.oid){var i,l,r,c,d,s,u,m;const e=await n.getObject(t.oid),p=await async function(e,t){var a,n;let i=null;if(null!==t&&void 0!==t&&null!==(a=t.common)&&void 0!==a&&a.icon)i=t.common.icon;else if((null===t||void 0===t||null===(n=t.common)||void 0===n||!n.icon)&&("state"===t.type||"channel"===t.type)){const a=t._id.split("."),n=await e.getObject(a.slice(0,-1).join("."));if(i=o.A.getObjectIcon(n,a.slice(0,-1).join(".")),!i){const t=await e.getObject(a.slice(0,-2).join("."));i=o.A.getObjectIcon(t,a.slice(0,-2).join("."))}}return i}(n,e);if(t.icon=p,t.oidType=null===e||void 0===e||null===(i=e.common)||void 0===i?void 0:i.type,t.write=null===e||void 0===e||null===(l=e.common)||void 0===l?void 0:l.write,t.noButton=!(null!==e&&void 0!==e&&null!==(r=e.common)&&void 0!==r&&r.write),t.unit=(null===e||void 0===e||null===(c=e.common)||void 0===c?void 0:c.unit)||"",t.minValue=(null===e||void 0===e||null===(d=e.common)||void 0===d?void 0:d.min)||0,t.maxValue=(null===e||void 0===e||null===(s=e.common)||void 0===s?void 0:s.max)||100,null!==e&&void 0!==e&&null!==(u=e.common)&&void 0!==u&&u.states){if(Array.isArray(e.common.states)){const t={};e.common.states.forEach((e=>{t[e]=e})),e.common.states=t}t.values_count=Object.keys(e.common.states).length,Object.entries(e.common.states).forEach(((e,a)=>{let[o,n]=e;t["value".concat(a+1)]=o,t["alias".concat(a+1)]=n})),a(t)}else"boolean"===(null===e||void 0===e||null===(m=e.common)||void 0===m?void 0:m.type)?(t.values_count=2,t.value1=!0,t.alias1="TRUE",t.value2=!1,t.alias2="FALSE",a(t)):null!==e&&void 0!==e&&e.common&&(t.values_count=0,a(t))}else t.icon=null,t.onlyStates=null,t.write=!1,t.noButton=!0,t.g_switch=!1,a(t)}const c=function(){return{name:"common",fields:[{name:"oid",type:"id",label:"oid",onChange:r},{name:"unit",label:"unit",type:"text",default:""},{name:"values_count",type:"number",default:0,label:"values_count",hidden:"data.oidType === 'boolean'"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"write_value"})},{name:"sampleInterval",type:"checkbox",label:"sample_interval",default:!1},{name:"sampleIntervalValue",type:"number",label:"sample_interval_value",default:50,min:0,max:1e3,step:1,hidden:"!data.sampleInterval"},{name:"delay",type:"number",label:"delay",default:300,min:0,max:1e3,step:1,hidden:"data.sampleInterval"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"icon"}),hidden:"data.noIcon"},{name:"iconSmall",label:"small_icon",type:"icon64",hidden:"data.noIcon || data.icon"},{name:"icon",label:"icon",type:"image",hidden:"data.noIcon || data.iconSmall"},{name:"iconSize",label:"icon_size",type:"slider",min:1,max:500,step:1,hidden:"data.noIcon"},{name:"iconColor",label:"icon_color",type:"color",hidden:"data.noIcon"},{name:"iconHover",label:"icon_hover",type:"slider",min:0,max:300,step:1,hidden:"data.noIcon"},{name:"iconXOffset",label:"icon_x_offset",type:"text",default:"0px",hidden:"data.noIcon"},{name:"iconYOffset",label:"icon_y_offset",type:"text",default:"0px",hidden:"data.noIcon"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"header"})},{name:"noHeader",type:"checkbox",label:"no_header"},{name:"header",label:"header_text",type:"text",default:"",hidden:"data.noHeader"},{name:"headerSize",label:"header_size",type:"slider",min:0,max:500,step:1,hidden:"data.noHeader"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"value"})},{name:"valueSize",label:"value_size",type:"slider",min:0,max:500,step:1},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"footer"})},{name:"noFooter",label:"no_footer",type:"checkbox"},{name:"footer",label:"footer_text",type:"text",default:"",hidden:"data.noFooter"},{name:"footerSize",label:"footer_size",type:"slider",min:0,max:500,step:1,hidden:"data.noFooter"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"characteristics"})},{name:"noCard",label:"without_card",type:"checkbox"},{name:"squaredCorner",label:"squared_corner",type:"checkbox"},{name:"textColor",label:"text_color",type:"color"},{type:"custom",component:()=>(0,l.jsx)(n.A,{})},{name:"outlined",label:"outlined",type:"checkbox"},{name:"outlinedFrame",label:"outlined_frame",type:"checkbox"},{type:"custom",component:()=>(0,l.jsx)(n.A,{})},{name:"basePadding",label:"base_padding",type:"slider",min:0,max:10,step:.1,default:1},{name:"baseElevation",label:"base_elevation",type:"slider",min:0,max:24,step:1,default:4},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"geometry"})},{name:"square",label:"square",type:"checkbox",hidden:"data.circle || data.ellipse"},{name:"ellipse",label:"ellipse",type:"checkbox",hidden:"data.circle || data.square"},{name:"circle",label:"circle",type:"checkbox",hidden:"data.ellipse || data.square"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"background"})},{name:"background",label:"background",default:"",type:"custom",component:(e,t,a,o)=>(0,l.jsx)(i.A,{field:e,data:t,onDataChange:a})},{name:"backgroundColor",label:"background_color",type:"color"},{type:"custom",component:()=>(0,l.jsx)(n.A,{dividerText:"frame_background"})},{name:"frameBackground",label:"frame_background",default:"",type:"custom",component:(e,t,a,o)=>(0,l.jsx)(i.A,{field:e,data:t,onDataChange:a})},{name:"frameBackgroundColor",label:"frame_background_color",type:"color"}]}}},6016:(e,t,a)=>{a.d(t,{A:()=>c,C:()=>r});var o=a(7085),n=a(9172),i=a(8437),l=a(579);const r=(0,i.createContext)({});const c=function(e){let{children:t,context:a}=e;const c=(0,i.useMemo)((()=>a),[a]),d=a.mode,s=a.theme,u=(0,i.useMemo)((()=>{const e="dark"===d?{palette:{mode:"dark"}}:{};return(0,o.createTheme)((0,n.A)(s,(0,n.A)(e,{components:{MuiTypography:{}}})))}),[d,s]);return(0,l.jsx)(o.ThemeProvider,{theme:u,children:(0,l.jsx)(r.Provider,{value:c,children:t})})}},900:(e,t,a)=>{a.d(t,{A:()=>i});a(8437);var o=a(6016),n=a(579);const i=function(e,t){return(0,n.jsx)(o.A,{context:t,children:e})}},2152:(e,t,a)=>{a.d(t,{A:()=>r});var o=a(8437),n=a(6016),i=a(5001),l=a(5702);const r=function(e){var t;const{theme:a,widget:r,oidObject:c}=(0,o.useContext)(n.C),{fontStyles:d,textStyles:s,backgroundStyles:u}=(0,l.A)(r.style),[m,p]=(0,o.useState)(),x=(0,i.A)(e),v=null===c||void 0===c||null===(t=c.common)||void 0===t?void 0:t.name,b=(0,o.useMemo)((()=>{var e;const t=e=>e?"".concat(e,"%"):null,o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r.data["".concat(e).concat(t)]},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{textColor:r.data.textColor||s.color||a.palette.primary.main,textColorActive:o("textColor",e),header:r.data.headerActive||o("header",e)||r.data.header||v,headerSize:t(r.data.headerSize)||t(r.data.headerSizeActive)||t(o("headerSize",e))||d.fontSize,footer:r.data.footerActive||o("footer",e)||r.data.footer,footerSize:t(r.data.footerSize)||t(r.data.footerSizeActive)||t(o("footerSize",e))||d.fontSize,alias:o("alias",e),value:o("value",e)&&"".concat(o("value",e)).concat(r.data.unit),valueSize:t(r.data.valueSize)||d.fontSize,valueSizeActive:o("valueSize",e)&&t(o("valueSize",e)),icon:!r.data.noIcon&&(r.data.icon||r.data.iconSmall),iconActive:!r.data.noIcon&&(o("icon",e)||o("iconSmall",e)),iconSize:(r.data.iconSize||0===r.data.iconSize)&&"calc(24px * ".concat(r.data.iconSize," / 100)")||"24px",iconSizeActive:o("iconSize",e)&&"calc(24px * ".concat(o("iconSize",e)," / 100)"),iconSizeOnly:o("iconSize",e)||r.data.iconSize,iconColor:r.data.iconColor,iconColorActive:o("iconColor",e),iconHover:r.data.iconHover&&"".concat(r.data.iconHover,"%"),iconHoverActive:o("iconHover",e)&&"".concat(o("iconHover",e),"%"),iconXOffset:o("iconXOffset",e)||r.data.iconXOffset||"0px",iconYOffset:o("iconYOffset",e)||r.data.iconYOffset||"0px",backgroundColor:r.data.backgroundColor||u.backgroundColor,backgroundColorActive:o("backgroundColor",e),background:r.data.background||u.background,backgroundActive:o("background",e),frameBackgroundColor:r.data.frameBackgroundColor||u.backgroundColor,frameBackgroundColorActive:o("frameBackgroundColor",e),frameBackground:r.data.frameBackground||u.background,frameBackgroundActive:o("frameBackground",e)}};switch(null===c||void 0===c||null===(e=c.common)||void 0===e?void 0:e.type){case"boolean":case"number":case"string":for(let e=1;e<=Number(r.data.values_count);e++)if(void 0!==r.data["value".concat(e)]&&(r.data["value".concat(e)]===x||r.data["value".concat(e)]===String(x)))return p(e),n(e);return n("");default:return n("")}}),[r,d,s,u,c,x,a,v]),{states:h,widgetStates:f,minValue:y,maxValue:g}=(0,o.useMemo)((()=>(()=>{var e,t;const a=[],o={};let n=0,i=100;const l=null===c||void 0===c||null===(e=c.common)||void 0===e?void 0:e.type,d=(null===c||void 0===c||null===(t=c.common)||void 0===t?void 0:t.states)||{},s=Object.entries(d);if("number"===l||"string"===l){for(let e=1;e<=Number(r.data.values_count);e++)if(void 0!==r.data["value".concat(e)]&&null!==r.data["value".concat(e)]&&/\S/.test(r.data["value".concat(e)])){const t=s.find((t=>{let[a]=t;return a===r.data["value".concat(e)]}));t&&"number"===l&&(t[0]=Number(t[0])),a.push({value:t?t[0]:"number"===l?Number(r.data["value".concat(e)]):r.data["value".concat(e)],label:r.data["alias".concat(e)]||(t?t[1]:"".concat(r.data["value".concat(e)]).concat(r.data.unit))}),o[t?String(t[0]):r.data["value".concat(e)]]=r.data["alias".concat(e)]||(t?t[1]:"".concat(r.data["value".concat(e)]).concat(r.data.unit))}a.length&&(n=Math.min(...a.map((e=>e.value))),i=Math.max(...a.map((e=>e.value))))}if("boolean"===l)for(let c=1;c<=Number(r.data.values_count);c++)a.push({value:r.data["value".concat(c)],label:r.data["alias".concat(c)]}),o[String(r.data["value".concat(c)])]=r.data["value".concat(c)];return{states:a,widgetStates:o,minValue:n,maxValue:i}})()),[c,r]);return{states:h,widgetStates:f,minValue:y,maxValue:g,data:b,activeIndex:m,setActiveIndex:p,oidValue:x}}},6255:(e,t,a)=>{a.d(t,{A:()=>r});var o=a(8437),n=a(8814),i=a(9159),l=a(6413);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[a,r]=(0,o.useState)(e),c=(0,o.useRef)(null),[d,s]=(0,o.useState)(e),u=(0,o.useRef)(null);return(0,o.useEffect)((()=>{c.current=new n.B,u.current=new n.B;const e=c.current.pipe((0,i.B)(t)).subscribe(r),a=u.current.pipe((0,l.c)(t)).subscribe(s);return()=>{e.unsubscribe(),a.unsubscribe()}}),[t]),(0,o.useEffect)((()=>{c.current&&c.current.next(e),u.current&&u.current.next(e)}),[e]),{debouncedValue:a,sampledValue:d}}},5001:(e,t,a)=>{a.d(t,{A:()=>i});var o=a(8437),n=a(6016);const i=e=>{const{getPropertyValue:t}=(0,o.useContext)(n.C),a=t(e),[i,l]=(0,o.useState)(a);return(0,o.useEffect)((()=>{l(a)}),[a]),i}},5702:(e,t,a)=>{a.d(t,{A:()=>i});var o=a(8437);const n=["background","background-color","background-image","background-position","background-repeat","background-size","background-clip","background-origin","border","border-width","border-style","border-color","border-radius","color","text-align","text-shadow","font-family","font-size","font-weight","font-style","font-variant","line-height","letter-spacing","word-spacing","box-sizing","box-shadow"],i=e=>{const[t,a]=(0,o.useState)({}),[i,l]=(0,o.useState)({}),[r,c]=(0,o.useState)({}),[d,s]=(0,o.useState)({}),[u,m]=(0,o.useState)({}),p=(0,o.useMemo)((()=>{const t={},a={},o={},i={},l={};return n.forEach((n=>{if(e[n]){const r=n.replace(/(-\w)/g,(e=>e[1].toUpperCase()));n.includes("background")?t[r]=e[n]:n.includes("border")?a[r]=e[n]:n.includes("font")||n.includes("line-height")||n.includes("letter-spacing")||n.includes("word-spacing")?i[r]=e[n]:n.includes("text")||n.includes("color")?o[r]=e[n]:l[r]=e[n]}})),{_backgroundStyles:t,_borderStyles:a,_textStyles:o,_fontStyles:i,_boxStyles:l}}),[e]);return(0,o.useEffect)((()=>{a(p._backgroundStyles),l(p._borderStyles),c(p._textStyles),s(p._fontStyles),m(p._boxStyles)}),[p]),{boxStyles:u,backgroundStyles:t,borderStyles:i,textStyles:r,fontStyles:d}}}}]);
//# sourceMappingURL=src_components_CollectionDivider_jsx.9c97da15.chunk.js.map