"use strict";(self.webpackChunkiobroker_vis_widgets_react_collection=self.webpackChunkiobroker_vis_widgets_react_collection||[]).push([["src_ButtonGroupCollectionWidget_ButtonGroupCollectionWidget_jsx"],{9379:(t,o,a)=>{a.r(o),a.d(o,{default:()=>y});var e=a(7051),n=a(8437),i=a(6211),l=a(7613),r=a(9966),c=a(900),d=a(7085),u=a(8565),s=a(4657),p=a(6016),b=a(2152),g=a(6255),h=a(5001),v=a(5702),x=a(579);const C=function(){var t;const{values:o,setState:a,setValue:i,oidObject:l,widget:r}=(0,n.useContext)(p.C),{data:c,states:C,activeIndex:f}=(0,b.A)("oid"),{fontStyles:y,textStyles:A}=(0,v.A)(r.style),m=(0,h.A)("oid"),G=r.data.buttonGroupVariant,S=r.data.buttonGroupOrientation,w=null===l||void 0===l?void 0:l._id,k=null===l||void 0===l||null===(t=l.common)||void 0===t?void 0:t.type,_=r.data.sampleInterval?r.data.sampleIntervalValue:r.data.delay,{debouncedValue:z,sampledValue:V}=(0,g.A)(m,_);return(0,n.useEffect)((()=>{r.data.sampleInterval||void 0===z||i(w,z)}),[z,w,i,r.data.sampleInterval]),(0,n.useEffect)((()=>{r.data.sampleInterval&&void 0!==V&&i(w,V)}),[V,w,i,r.data.sampleInterval]),(0,x.jsxs)(s.A,{data:c,oidValue:m,bgActive:!1,children:[(c.iconActive||c.icon)&&(0,x.jsx)("img",{alt:"",src:c.iconActive||c.icon,style:{position:"absolute",top:"calc(0px + ".concat(r.data.iconYOffset,")"),right:"calc(0px + ".concat(r.data.iconXOffset,")"),width:c.iconSize,height:c.iconSize,color:c.iconColorActive||c.iconColor,filter:c.iconColorActive||c.iconColor?"drop-shadow(0px 10000px 0)":null,transform:c.iconColorActive||c.iconColor?"translateY(-10000px)":null}}),(0,x.jsx)(d.Box,{sx:{width:"100%",height:"100%",display:"flex"},children:(0,x.jsx)(d.ToggleButtonGroup,{exclusive:!0,value:m,disabled:"number"!==k&&"string"!==k&&"boolean"!==k,fullWidth:!0,variant:G,orientation:S,sx:{display:"flex",flexDirection:"vertical"===S?"column":"row",justifyContent:"space-between",alignItems:"center","&.MuiToggleButtonGroup-root":{},"& .MuiToggleButtonGroup-firstButton":{borderTopWidth:"outlined"===r.data.buttonGroupVariant?null:0,borderLeftWidth:"outlined"===r.data.buttonGroupVariant?null:0,borderRightWidth:"outlined"===r.data.buttonGroupVariant||"horizontal"===r.data.buttonGroupOrientation?null:0,borderBottomWidth:"outlined"===r.data.buttonGroupVariant?null:"horizontal"===r.data.buttonGroupOrientation?0:null,borderColor:r.data.buttonGroupColor&&(0,u.alpha)(r.data.buttonGroupColor,.2),borderRadius:!r.data.basePadding&&0},"& .MuiToggleButtonGroup-middleButton":{borderTopWidth:"outlined"===r.data.buttonGroupVariant?null:"horizontal"===r.data.buttonGroupOrientation?0:null,borderLeftWidth:"outlined"===r.data.buttonGroupVariant||"horizontal"===r.data.buttonGroupOrientation?null:0,borderRightWidth:"outlined"===r.data.buttonGroupVariant||"horizontal"===r.data.buttonGroupOrientation?null:0,borderBottomWidth:"outlined"===r.data.buttonGroupVariant?null:"horizontal"===r.data.buttonGroupOrientation?0:null,borderColor:r.data.buttonGroupColor&&(0,u.alpha)(r.data.buttonGroupColor,.2)},"& .MuiToggleButtonGroup-lastButton":{borderTopWidth:"outlined"===r.data.buttonGroupVariant?null:"horizontal"===r.data.buttonGroupOrientation?0:null,borderLeftWidth:"outlined"===r.data.buttonGroupVariant?null:0,borderRightWidth:"outlined"===r.data.buttonGroupVariant?null:0,borderBottomWidth:"outlined"===r.data.buttonGroupVariant?null:0,borderColor:r.data.buttonGroupColor&&(0,u.alpha)(r.data.buttonGroupColor,.2),borderRadius:!r.data.basePadding&&0}},children:C.map(((t,n)=>{let{value:i,label:l}=t;return(0,x.jsx)(d.ToggleButton,{disableRipple:!0,value:i,sx:{width:"100%",height:"100%",p:0,display:"flex",justifyContent:"center",alignItems:"center",background:f===n+1&&r.data.backgroundColorActive||r.data["backgroundColor".concat(n+1)]||c.backgroundColor||f===n+1&&r.data.backgroundActive||r.data["background".concat(n+1)]||c.background,"&.MuiToggleButton-root.Mui-selected":{background:f===n+1&&r.data.backgroundColorActive||r.data["backgroundColor".concat(n+1)]||c.backgroundColor||f===n+1&&r.data.backgroundActive||r.data["background".concat(n+1)]||c.background},"&:hover":{filter:f===n+1&&r.data.iconHoverActive&&"brightness(".concat(r.data.iconHoverActive,"%)")||r.data["iconHover".concat(n+1)]&&"brightness(".concat(r.data["iconHover".concat(n+1)],"%)")||c.iconHover&&"brightness(".concat(c.iconHover||"100%",")"),background:f===n+1&&r.data.backgroundColorActive||r.data["backgroundColor".concat(n+1)]||c.backgroundColor||f===n+1&&r.data.backgroundActive||r.data["background".concat(n+1)]||c.background}},onClick:()=>{a({values:(0,e.A)((0,e.A)({},o),{},{["".concat(w,".val")]:i})})},children:(0,x.jsxs)(d.Box,{sx:{width:"100%",height:"100%",p:.5,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[!r.data.onlyText&&(f===n+1&&(r.data.iconActive||r.data.iconSmallActive)||r.data["icon".concat(n+1)]||r.data["iconSmall".concat(n+1)]||c.icon)&&(0,x.jsx)(d.Box,{sx:{overflow:"hidden",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,x.jsx)("img",{src:f===n+1&&(r.data.iconActive||r.data.iconSmallActive)||r.data["icon".concat(n+1)]||r.data["iconSmall".concat(n+1)]||c.icon,alt:"",style:{position:"relative",bottom:r.data["iconYOffset".concat(n+1)],left:r.data["iconXOffset".concat(n+1)],width:f===n+1&&r.data.iconSizeActive&&"calc(100% * ".concat(r.data.iconSizeActive||100," / 100)")||r.data["iconSize".concat(n+1)]&&"calc(100% * ".concat(r.data["iconSize".concat(n+1)]||100," / 100)")||"100%",height:f===n+1&&r.data.iconSizeActive&&"calc(100% * ".concat(r.data.iconSizeActive||100," / 100)")||r.data["iconSize".concat(n+1)]&&"calc(100% * ".concat(r.data["iconSize".concat(n+1)]||100," / 100)")||"100%",color:f===n+1&&r.data.iconColorActive||r.data["iconColor".concat(n+1)]||r.data.buttonGroupColor||c.iconColor,filter:f===n+1&&r.data.iconColorActive||r.data["iconColor".concat(n+1)]||r.data.buttonGroupColor||c.iconColor?"drop-shadow(0px 10000px 0)":null,transform:f===n+1&&r.data.iconColorActive||r.data["iconColor".concat(n+1)]||r.data.buttonGroupColor||c.iconColor?"translateY(-10000px)":null}})}),!r.data.onlyIcon&&(0,x.jsx)(d.Box,{sx:{width:"100%",pt:.5,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,x.jsx)(d.Typography,{noWrap:!0,variant:"body2",sx:(0,e.A)((0,e.A)((0,e.A)({},y),A),{},{textTransform:"none",fontSize:f===n+1&&r.data.valueSizeActive&&"".concat(r.data.valueSizeActive,"%")||r.data["valueSize".concat(n+1)]&&"".concat(r.data["valueSize".concat(n+1)],"%")||c.valueSize,color:f===n+1&&r.data.textColorActive||r.data["textColor".concat(n+1)]||r.data.buttonGroupColor||c.textColor}),children:f===n+1&&r.data.aliasActive||l||i})})]})},n)}))})})]})};class f extends i.A{static getWidgetInfo(){return{id:"tplButtonGroupCollectionWidget",visSet:"vis-2-widgets-collection",visSetLabel:"widgets_collection",visName:"ButtonGroupCollectionWidget",visWidgetLabel:"button_group_collection_widget",visAttrs:[(0,r.A)(),{name:"buttonGroup",label:"button_group",fields:[{name:"onlyIcon",type:"checkbox",label:"only_icon",hidden:"data.onlyText"},{name:"onlyText",type:"checkbox",label:"only_text",hidden:"data.onlyIcon"},{name:"buttonGroupVariant",label:"button_group_variant",type:"select",options:[{value:"text",label:"button_group_text"},{value:"outlined",label:"button_group_outlined"}],default:"text"},{name:"buttonGroupOrientation",label:"button_group_orientation",type:"select",options:[{value:"horizontal",label:"horizontal"},{value:"vertical",label:"vertical"}],default:"horizontal"},{name:"buttonGroupColor",label:"button_group_color",type:"color"}]},(0,l.A)("active"),(0,l.A)("values")],visDefaultStyle:{width:"100%",height:"100px",position:"relative"},visPrev:"widgets/vis-2-widgets-collection/img/prev-collection-button-group.png"}}getWidgetInfo(){return f.getWidgetInfo()}async propertiesUpdate(){const t=JSON.stringify(this.state.rxData);this.lastRxData!==t&&(this.lastRxData=t,await this.createStateObjectAsync("oid"))}async onRxDataChanged(t){await this.propertiesUpdate()}onRxStyleChanged(){}onStateUpdated(t,o){}async componentDidMount(){super.componentDidMount(),await this.propertiesUpdate()}renderWidgetBody(t){super.renderWidgetBody(t);const o={id:t.id,refService:t.refService,style:t.style,widget:(0,e.A)((0,e.A)({},t.widget),{},{data:this.state.rxData}),setValue:this.setValue,setState:this.setState.bind(this),oidObject:this.state.oidObject,values:this.state.values,isSignalVisible:this.isSignalVisible.bind(this),getPropertyValue:this.getPropertyValue.bind(this),mode:this.props.context.themeType,socket:this.props.context.socket,theme:this.props.context.theme,wrappedContent:this.wrappedContent};return t.widget.data.noCard||t.widget.usedInWidget?this.wrappedContent=!1:this.wrappedContent=!0,(0,c.A)(this.wrapContent((0,x.jsx)(C,{})),o)}}const y=f}}]);
//# sourceMappingURL=src_ButtonGroupCollectionWidget_ButtonGroupCollectionWidget_jsx.60817d86.chunk.js.map