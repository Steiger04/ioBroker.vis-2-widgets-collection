name: Sync Documentation to Wiki

on:
    workflow_call:

permissions:
    contents: write

jobs:
    sync-wiki:
        runs-on: ubuntu-latest

        steps:
            - uses: actions/checkout@v4

            # Sync documentation directories to wiki
            # The img/ folder (sibling to de/ and en/) will be synced automatically
            - name: Sync German Documentation to Wiki
              uses: Andrew-Chen-Wang/github-wiki-action@v5
              with:
                  path: src-widgets/src/documentation/de
                  token: ${{ secrets.GITHUB_TOKEN }}

            - name: Sync English Documentation to Wiki
              uses: Andrew-Chen-Wang/github-wiki-action@v5
              with:
                  path: src-widgets/src/documentation/en
                  token: ${{ secrets.GITHUB_TOKEN }}

            - name: Sync Images to Wiki
              uses: Andrew-Chen-Wang/github-wiki-action@v5
              with:
                  path: src-widgets/src/documentation/img
                  token: ${{ secrets.GITHUB_TOKEN }}
